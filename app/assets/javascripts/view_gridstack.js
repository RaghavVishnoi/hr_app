(function(e){function t(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,a){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var i=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(i,'a',i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=816)})({148:function(e,t,i){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var a=i(149),s=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default={init:function(){this.widgetAdd(),this.filterWidgets(),this.gsMaximize(),this.gsHeightAdjust(),this.gsResize(),this.gsClientsListRWD(),this.gsClientsDetailsRWD(),this.gsDashboardRWD(),this.gsEditMode(),this.gsRWDGeneral(),this.rwdHelperDev()},savedPositions:[],widgetAdd:function(){var e=this,t=$('.card-bar .card-bar__sgl'),i=$('.main-content .grid-stack');i.droppable({accept:t,drop:function(){console.log('Widget added!')}}),t.draggable({stop:function(){},start:function(){},revert:function(t){var i=$(this);return t?(this.velocity({opacity:'0'},500,function(){i.remove(),e.filterWidgets()}),t):!t}})},filterWidgets:function(){i(46);new List('widgets-list',{valueNames:[{data:['widget']}],searchClass:'mdl-textfield__input',listClass:'card-bar__items'})},gsRWDGeneral:function(){enquire.register('screen and (min-width:768px) and (max-width:1220px)',{match:function(){$('.card--chart').closest('.grid-stack-item').addClass('grid-size--xs'),$('.card--logs').closest('.grid-stack-item').addClass('grid-size--xs')},unmatch:function(){$('.card--chart').closest('.grid-stack-item').removeClass('grid-size--xs'),$('.card--logs').closest('.grid-stack-item').addClass('grid-size--xs')}})},clickClassHelper:function(e){if(!1!==e){var t=[];$('body').on('click.tmp',function(i){var e=$(i.target),a=e.attr('class');return void 0!=a&&void t.push(a)}),$(document).bind('keyup',function(){$(document).off('click.temp')})}},widgetInternalRWD:function(){function e(t){e(),t.removeClass('grid-size--xs grid-size--sm grid-size--md grid-size--lg grid-size--xl')}function t(t){e(t),window.requestAnimationFrame(function(){var e=t.attr('data-gs-width');6>=e?t.addClass('grid-size--xs'):8>=e?t.addClass('grid-size--sm'):10>=e?t.addClass('grid-size--md'):12>=e?t.addClass('grid-size--lg'):24>=e&&t.addClass('grid-size--xl')},100)}var i=$('.grid-stack').data('gridstack'),a=$('.grid-stack');a.on('change',function(e,a){if(null==a)return!1;for(var s,n=0;n<a.length;n++)s=$(a[n].el),t(s)})},gsHeightAdjust:function(){function e(){$('.grid-stack-item').each(function(e,t){window.requestAnimationFrame(function(){return!(768>window.innerWidth)&&void($(t).find('.card__content').adjustCardHeight(),$(t).find('.tbl-c').adjustCardHeight())})})}var t=this;$.fn.adjustCardHeight=function(e){var i=$(window).width(),a=this,s=$(this).closest('.grid-stack-item'),n=$('.grid-stack').data('gridstack'),d=$(this).closest('.grid-stack-item'),o=d.outerHeight(!0),r=d.find('.card'),l=r.outerHeight(!0);return 1449<i&&!r.hasClass('card--pagination')?!1:(!0===e&&this.closest('.grid-stack-item-content').find('.ps').each(function(e,t){$(t).perfectScrollbar('destroy')}),t.saveGridParams(),function(){var e=0,t=0;(function(){return s.addClass('is-being-calculated'),e=r.outerHeight(!0),window.requestAnimationFrame(function(){s.removeClass('is-being-calculated')}),e})(r.find('.card__content')),t=Math.round((parseInt(e,10)+n.opts.verticalMargin)/(n.cellHeight()+n.opts.verticalMargin)),r.hasClass('card--news')&&t++,window.requestAnimationFrame(function(){d.attr('data-gs-height',t),n.resize(d,d.attr('data-gs-width'),t)})}(),'Element updated!')},'function'==typeof window.oTable&&window.oTable.on('responsive-display',function(){$('.tbl-c').adjustCardHeight()}),enquire.register('screen and (min-width:768px) and (max-width:1199px) ',{match:function(){$('.card--chart [data-icheck="true"]').on('ifChanged',function(){var e=this;$(this).closest('.card').find('.card__right .mobile-toogle--target').css('opacity','0'),window.requestAnimationFrame(function(){$(e).closest('.card').find('.card__content').adjustCardHeight()}),window.requestAnimationFrame(function(){$(e).closest('.card').find('.card__right .mobile-toogle--target').css('opacity','1')})}),$('.card--info').on('click','.mobile-toogle--box',function(){window.requestAnimationFrame(function(){$('.card--info .card__content').adjustCardHeight()})}),$('.card--contacts').on('click','.card__mobile-toggle',function(){window.requestAnimationFrame(function(){$('.card--contacts').adjustCardHeight()})})}}),$('.card--logs').on('click','.pagination',function(){window.requestAnimationFrame(function(){767<parseInt($(window).width(),10)&&$('.card--logs .card__content').adjustCardHeight()})}),$('.card-datatables').on('click','.add-filter, .change-filter',function(){window.requestAnimationFrame(function(){767<parseInt($(window).width(),10)&&$('.card-datatables .card').adjustCardHeight()})}),$('tbody').on('click','td:first-of-type',function(){window.requestAnimationFrame(function(){767<parseInt($(window).width(),10)&&$('.card-datatables .card').adjustCardHeight()})});var i=$(window).width();767<i&&e(),$(window).resize(s.default.debounce(function(){e()},120))},saveGridParams:function(){var e=this;$('.grid-stack-item').each(function(){var t=$(this);e.savedPositions.push({x:t.attr('data-gs-x'),y:t.attr('data-gs-y'),w:t.attr('data-gs-width'),h:t.attr('data-gs-height')})})},gsMaximize:function(){var e=this,t=$('#app-wrapper .card .card-maximize');t.on('click',function(){e.saveGridParams();var t=$(this),i=$(this).closest('.grid-stack-item'),a=$(this).closest('.grid-stack').data('gridstack'),s=a.cellHeight(),n=$('.main-head').outerHeight(!0),d=$(window).height(),o=$(this).data('openCloseSwitch'),r=i.index();o?$('.grid-stack-item').each(function(t,i){a.update(i,parseInt(e.savedPositions[t].x,10),parseInt(e.savedPositions[t].y,10),parseInt(e.savedPositions[t].w,10),parseInt(e.savedPositions[t].h,10)),$(i).removeClass('is-maximized')}):(a.update(i,0,0,24,(d-n-485)/s),$('.app-content').scrollTop(0),i.addClass('is-maximized')),$(this).data('openCloseSwitch',!o)})},gsDashboardRWD:function(){$('.grid-stack-item .card--chart').each(function(e,t){$(t).attr('data-chart-number',e+1)});var e=$('.grid-stack').data('gridstack'),t=$('.page-dashboard'),i=$(window).width(),a=$('.card--chart').eq(0),s=$('.card--chart').eq(1),n=$('.card--chart').eq(2),d=$('.card--chart').eq(3),o=$('.card--info'),r=$('.card--news'),l=$('.card--logs');t.length&&(enquire.register('screen and (min-width:1367px) ',{match:function(){window.requestAnimationFrame(function(){$('.card--chart').each(function(){$(this).cardResize($(this).attr('data-gs-x'),$(this).attr('data-gs-y'),$(this).attr('data-gs-width'),10),$(this).closest('.grid-stack-item').attr('data-gs-min-height','10')}),$('.card--logs').each(function(){$(this).closest('.grid-stack-item').attr('data-gs-min-height','8')}),$('.card--info').each(function(){$(this).closest('.grid-stack-item').attr('data-gs-min-height','8')}),$('[data-scrollable]').perfectScrollbar()})}}),enquire.register('screen and (min-width: 1451px)',{match:function(){window.requestAnimationFrame(function(){a.cardResize(0,0,12,10),s.cardResize(12,0,12,10),n.cardResize(0,10,12,10),d.cardResize(12,10,12,10),o.cardResize(0,20,6,10),r.cardResize(6,20,6,10),l.cardResize(12,20,12,12)})}}),enquire.register('screen and (min-width:1367px) and (max-width: 1450px)',{match:function(){window.requestAnimationFrame(function(){a.cardResize(0,0,12,14),s.cardResize(12,0,12,14),n.cardResize(0,14,12,14),d.cardResize(12,14,12,14),o.cardResize(0,28,6,10),r.cardResize(6,28,6,10),l.cardResize(12,28,12,12)})}}),enquire.register('screen and (max-width:1366px) and (min-width:1024px) ',{match:function(){a.cardResize(0,0,12,14),s.cardResize(12,0,12,14),n.cardResize(0,14,12,14),d.cardResize(12,14,12,14),o.cardResize(0,28,8,13),r.cardResize(8,28,8,13),l.cardResize(16,28,8,17)}}),enquire.register('screen and (max-width:1023px) and (min-width:768px) ',{match:function(){a.cardResize(0,0,12,12,!0),s.cardResize(12,0,12,12,!0),n.cardResize(0,12,12,12,!0),d.cardResize(12,12,12,12,!0),o.cardResize(0,28,12,11),r.cardResize(12,28,12,11),l.cardResize(0,35,24,12)}}))},gsEditMode:function(){function t(){window.requestAnimationFrame(function(){$('.app-content').addClass('app-content--widgets-movable'),$('#widgets-edit').children('i').removeClass('icon--widgets-edit').addClass('icon--widgets-edit-alt'),e.enable(),a.find('.grid-stack-item').each(function(t,i){e.movable($(i),!0)})})}function i(){window.requestAnimationFrame(function(){e.disable(),$('#widgets-edit').children('i').removeClass('icon--widgets-edit-alt').addClass('icon--widgets-edit'),$('.app-content').removeClass('app-content--widgets-movable')})}var e=$('.grid-stack').data('gridstack'),a=$('.grid-stack');enquire.register('screen and (max-width:1200px)',{match:function(){i()}}),$('#widgets-edit').on('click',function(a){a.preventDefault(),$('.app-content').hasClass('app-content--widgets-movable')?i():t()}),$('.card-bar__close').on('click',function(){i()}),$(document).on('click','.remove-button',function(){var t=$(this).closest('.grid-stack-item');APP.swal.init('skin1','typeInfo',{title:'Are you sure?',text:'Widget will be removed.'}),$('.sweet-container').addClass('widget-remove'),$('.sweet-container.widget-remove .sweet-confirm').on('click',function(){window.requestAnimationFrame(function(){e.removeWidget(t[0])})}),$('.sweet-container').removeClass('widget-remove')})},gsResize:function(){$.fn.cardResize=function(e,t,i,a){var s=$('.grid-stack').data('gridstack'),n=this.closest('.grid-stack-item'),d=this.attr('data-gs-x'),o=this.attr('data-gs-y'),r=this.attr('data-gs-width'),l=this.attr('data-gs-height');(function(){'undefined'!=typeof s&&s.update(n,e,t,i,a)})()}},gsClientsListRWD:function(){var e=$('.grid-stack').data('gridstack'),t=$('.grid-stack').find('.tbl-c').closest('.card');enquire.register('screen and (min-width:1366px)',{match:function(){t.cardResize(0,0,24,19)}})},gsClientsDetailsRWD:function(){var e=$('.grid-stack').data('gridstack'),t=$('.card--detail-info'),i=$('.card--contacts'),a=$('.card--tabs'),s=$('.card--logs'),n=$('.card--chart-small');return!!$('.page-clients-details').length&&void(enquire.register('screen and (min-width:1366px)',{match:function(){t.cardResize(0,0,5,20),a.cardResize(5,0,14,19),n.cardResize(19,0,5,11),i.cardResize(0,20,5,10),s.cardResize(5,19,14,16)}}),enquire.register('screen and (min-width:1024px) and (max-width:1365px)',{match:function(){t.cardResize(0,0,8,20),a.cardResize(8,0,16,18),n.cardResize(0,31,8,12),i.cardResize(0,20,8,11),s.cardResize(8,18,16,10)}}),enquire.register('screen and (min-width:768px) and (max-width:1023px)',{match:function(){t.cardResize(0,0,9,20),a.cardResize(9,0,15,18),n.cardResize(0,31,9,12),i.cardResize(0,20,9,11),s.cardResize(9,18,15,10)}}))},rwdHelperDev:function(){i(150);$('.grid-stack').data('gridstack');$(document).bind('keydown','alt+q',function(){var e=s.default.map($('.grid-stack > .grid-stack-item:visible'),function(e){e=$(e);var t=e.data('_gridstack_node');return{x:t.x,y:t.y,width:t.width,height:t.height}},this);console.log(e)})}}},149:function(e,t){var i,a,s=Math.floor,d=Math.max;(function(){function n(e){function t(t,i,a,s,n,d){for(;0<=n&&n<d;n+=e){var o=s?s[n]:n;a=i(a,t[o],o,t)}return a}return function(i,a,s,n){a=_(a,n,4);var d=!R(i)&&S.keys(i),o=(d||i).length,r=0<e?0:o-1;return 3>arguments.length&&(s=i[d?d[r]:r],r+=e),t(i,a,s,d,r,o)}}function o(e){return function(t,i,a){i=N(i,a);for(var s=H(t),n=0<e?0:s-1;0<=n&&n<s;n+=e)if(i(t[n],n,t))return n;return-1}}function r(e,t,a){return function(s,n,o){var r=0,i=H(s);if('number'==typeof o)0<e?r=0<=o?o:d(o+i,r):i=0<=o?Math.min(o+1,i):o+i+1;else if(a&&o&&i)return o=a(s,n),s[o]===n?o:-1;if(n!==n)return o=t(m.call(s,r,i),S.isNaN),0<=o?o+r:-1;for(o=0<e?r:i-1;0<=o&&o<i;o+=e)if(s[o]===n)return o;return-1}}function l(e,t){var i=I.length,a=e.constructor,s=S.isFunction(a)&&a.prototype||p,n='constructor';for(S.has(e,n)&&!S.contains(t,n)&&t.push(n);i--;)n=I[i],n in e&&e[n]!==s[n]&&!S.contains(t,n)&&t.push(n)}var h=this,c=h._,g=Array.prototype,p=Object.prototype,u=Function.prototype,f=g.push,m=g.slice,y=p.toString,v=p.hasOwnProperty,k=Array.isArray,b=Object.keys,x=u.bind,w=Object.create,C=function(){},S=function(e){return e instanceof S?e:this instanceof S?void(this._wrapped=e):new S(e)};('undefined'!=typeof e&&e.exports&&(t=e.exports=S),t._=S),S.VERSION='1.8.3';var _=function(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,a){return e.call(t,i,a)};case 3:return function(i,a,s){return e.call(t,i,a,s)};case 4:return function(i,a,s,n){return e.call(t,i,a,s,n)};}return function(){return e.apply(t,arguments)}},N=function(e,t,i){return null==e?S.identity:S.isFunction(e)?_(e,t,i):S.isObject(e)?S.matcher(e):S.property(e)};S.iteratee=function(e,t){return N(e,t,Infinity)};var z=function(e,t){return function(a){var s=arguments.length;if(2>s||null==a)return a;for(var n=1;n<s;n++)for(var d,o=arguments[n],r=e(o),h=r.length,l=0;l<h;l++)d=r[l],t&&void 0!==a[d]||(a[d]=o[d]);return a}},G=function(e){if(!S.isObject(e))return{};if(w)return w(e);C.prototype=e;var t=new C;return C.prototype=null,t},E=function(e){return function(t){return null==t?void 0:t[e]}},H=E('length'),R=function(e){var t=H(e);return'number'==typeof t&&0<=t&&t<=9007199254740991};S.each=S.forEach=function(e,t,a){t=_(t,a);var s,i;if(R(e))for(s=0,i=e.length;s<i;s++)t(e[s],s,e);else{var n=S.keys(e);for(s=0,i=n.length;s<i;s++)t(e[n[s]],n[s],e)}return e},S.map=S.collect=function(e,t,i){t=N(t,i);for(var a,s=!R(e)&&S.keys(e),n=(s||e).length,d=Array(n),o=0;o<n;o++)a=s?s[o]:o,d[o]=t(e[a],a,e);return d},S.reduce=S.foldl=S.inject=n(1),S.reduceRight=S.foldr=n(-1),S.find=S.detect=function(e,t,i){var a;if(a=R(e)?S.findIndex(e,t,i):S.findKey(e,t,i),void 0!==a&&-1!==a)return e[a]},S.filter=S.select=function(e,t,i){var a=[];return t=N(t,i),S.each(e,function(e,i,s){t(e,i,s)&&a.push(e)}),a},S.reject=function(e,t,i){return S.filter(e,S.negate(N(t)),i)},S.every=S.all=function(e,t,i){t=N(t,i);for(var a,s=!R(e)&&S.keys(e),n=(s||e).length,d=0;d<n;d++)if(a=s?s[d]:d,!t(e[a],a,e))return!1;return!0},S.some=S.any=function(e,t,i){t=N(t,i);for(var a,s=!R(e)&&S.keys(e),n=(s||e).length,d=0;d<n;d++)if(a=s?s[d]:d,t(e[a],a,e))return!0;return!1},S.contains=S.includes=S.include=function(e,t,i,a){return R(e)||(e=S.values(e)),('number'!=typeof i||a)&&(i=0),0<=S.indexOf(e,t,i)},S.invoke=function(e,t){var i=m.call(arguments,2),a=S.isFunction(t);return S.map(e,function(e){var s=a?t:e[t];return null==s?s:s.apply(e,i)})},S.pluck=function(e,t){return S.map(e,S.property(t))},S.where=function(e,t){return S.filter(e,S.matcher(t))},S.findWhere=function(e,t){return S.find(e,S.matcher(t))},S.max=function(e,t,a){var s,n,d=-Infinity,o=-Infinity;if(null==t&&null!=e){e=R(e)?e:S.values(e);for(var r=0,i=e.length;r<i;r++)s=e[r],s>d&&(d=s)}else t=N(t,a),S.each(e,function(e,i,a){n=t(e,i,a),(n>o||n===-Infinity&&d==-Infinity)&&(d=e,o=n)});return d},S.min=function(e,t,a){var s,n,d=Infinity,o=Infinity;if(null==t&&null!=e){e=R(e)?e:S.values(e);for(var r=0,i=e.length;r<i;r++)s=e[r],s<d&&(d=s)}else t=N(t,a),S.each(e,function(e,i,a){n=t(e,i,a),(n<o||n===Infinity&&d==Infinity)&&(d=e,o=n)});return d},S.shuffle=function(e){for(var t,i=R(e)?e:S.values(e),a=i.length,s=Array(a),n=0;n<a;n++)t=S.random(0,n),t!==n&&(s[n]=s[t]),s[t]=i[n];return s},S.sample=function(e,t,i){return null==t||i?(R(e)||(e=S.values(e)),e[S.random(e.length-1)]):S.shuffle(e).slice(0,d(0,t))},S.sortBy=function(e,t,i){return t=N(t,i),S.pluck(S.map(e,function(e,i,a){return{value:e,index:i,criteria:t(e,i,a)}}).sort(function(e,t){var i=e.criteria,a=t.criteria;if(i!==a){if(i>a||void 0===i)return 1;if(i<a||void 0===a)return-1}return e.index-t.index}),'value')};var M=function(e){return function(t,i,a){var s={};return i=N(i,a),S.each(t,function(a,n){var d=i(a,n,t);e(s,a,d)}),s}};S.groupBy=M(function(e,t,i){S.has(e,i)?e[i].push(t):e[i]=[t]}),S.indexBy=M(function(e,t,i){e[i]=t}),S.countBy=M(function(e,t,i){S.has(e,i)?e[i]++:e[i]=1}),S.toArray=function(e){return e?S.isArray(e)?m.call(e):R(e)?S.map(e,S.identity):S.values(e):[]},S.size=function(e){return null==e?0:R(e)?e.length:S.keys(e).length},S.partition=function(e,t,i){t=N(t,i);var a=[],s=[];return S.each(e,function(e,i,n){(t(e,i,n)?a:s).push(e)}),[a,s]},S.first=S.head=S.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:S.initial(e,e.length-t)},S.initial=function(e,t,i){return m.call(e,0,d(0,e.length-(null==t||i?1:t)))},S.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:S.rest(e,d(0,e.length-t))},S.rest=S.tail=S.drop=function(e,t,i){return m.call(e,null==t||i?1:t)},S.compact=function(e){return S.filter(e,S.identity)};var A=function(e,t,a,s){for(var n,d=[],o=0,r=s||0,i=H(e);r<i;r++)if(n=e[r],R(n)&&(S.isArray(n)||S.isArguments(n))){t||(n=A(n,t,a));var l=0,h=n.length;for(d.length+=h;l<h;)d[o++]=n[l++]}else a||(d[o++]=n);return d};S.flatten=function(e,t){return A(e,t,!1)},S.without=function(e){return S.difference(e,m.call(arguments,1))},S.uniq=S.unique=function(e,t,a,s){S.isBoolean(t)||(s=a,a=t,t=!1),null!=a&&(a=N(a,s));for(var n=[],d=[],o=0,r=H(e);o<r;o++){var l=e[o],h=a?a(l,o,e):l;t?((!o||d!==h)&&n.push(l),d=h):a?!S.contains(d,h)&&(d.push(h),n.push(l)):!S.contains(n,l)&&n.push(l)}return n},S.union=function(){return S.uniq(A(arguments,!0,!0))},S.intersection=function(e){for(var t,a=[],s=arguments.length,n=0,i=H(e);n<i;n++)if(t=e[n],!S.contains(a,t)){for(var d=1;d<s&&!!S.contains(arguments[d],t);d++);d===s&&a.push(t)}return a},S.difference=function(e){var t=A(arguments,!0,!0,1);return S.filter(e,function(e){return!S.contains(t,e)})},S.zip=function(){return S.unzip(arguments)},S.unzip=function(e){for(var t=e&&S.max(e,H).length||0,i=Array(t),a=0;a<t;a++)i[a]=S.pluck(e,a);return i},S.object=function(e,t){for(var a={},s=0,i=H(e);s<i;s++)t?a[e[s]]=t[s]:a[e[s][0]]=e[s][1];return a},S.findIndex=o(1),S.findLastIndex=o(-1),S.sortedIndex=function(e,t,i,a){i=N(i,a,1);for(var n=i(t),d=0,o=H(e);d<o;){var r=s((d+o)/2);i(e[r])<n?d=r+1:o=r}return d},S.indexOf=r(1,S.findIndex,S.sortedIndex),S.lastIndexOf=r(-1,S.findLastIndex),S.range=function(e,t,i){null==t&&(t=e||0,e=0),i=i||1;for(var a=d(Math.ceil((t-e)/i),0),s=Array(a),n=0;n<a;n++,e+=i)s[n]=e;return s};var W=function(e,t,i,a,s){if(!(a instanceof t))return e.apply(i,s);var n=G(e.prototype),d=e.apply(n,s);return S.isObject(d)?d:n};S.bind=function(e,t){if(x&&e.bind===x)return x.apply(e,m.call(arguments,1));if(!S.isFunction(e))throw new TypeError('Bind must be called on a function');var i=m.call(arguments,2),a=function(){return W(e,a,t,this,i.concat(m.call(arguments)))};return a},S.partial=function(e){var t=m.call(arguments,1),a=function(){for(var s=0,n=t.length,d=Array(n),o=0;o<n;o++)d[o]=t[o]===S?arguments[s++]:t[o];for(;s<arguments.length;)d.push(arguments[s++]);return W(e,a,this,this,d)};return a},S.bindAll=function(e){var t,i,a=arguments.length;if(1>=a)throw new Error('bindAll must be passed function names');for(t=1;t<a;t++)i=arguments[t],e[i]=S.bind(e[i],e);return e},S.memoize=function(e,t){var i=function(a){var s=i.cache,n=''+(t?t.apply(this,arguments):a);return S.has(s,n)||(s[n]=e.apply(this,arguments)),s[n]};return i.cache={},i},S.delay=function(e,t){var i=m.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},S.defer=S.partial(S.delay,S,1),S.throttle=function(e,t,i){var a,s,n,d=null,o=0;i||(i={});var r=function(){o=!1===i.leading?0:S.now(),d=null,n=e.apply(a,s),d||(a=s=null)};return function(){var l=S.now();o||!1!==i.leading||(o=l);var h=t-(l-o);return a=this,s=arguments,0>=h||h>t?(d&&(clearTimeout(d),d=null),o=l,n=e.apply(a,s),!d&&(a=s=null)):!d&&!1!==i.trailing&&(d=setTimeout(r,h)),n}},S.debounce=function(e,t,i){var a,s,n,d,o,r=function(){var l=S.now()-d;l<t&&0<=l?a=setTimeout(r,t-l):(a=null,!i&&(o=e.apply(n,s),!a&&(n=s=null)))};return function(){n=this,s=arguments,d=S.now();var l=i&&!a;return a||(a=setTimeout(r,t)),l&&(o=e.apply(n,s),n=s=null),o}},S.wrap=function(e,t){return S.partial(t,e)},S.negate=function(e){return function(){return!e.apply(this,arguments)}},S.compose=function(){var e=arguments,t=e.length-1;return function(){for(var a=t,i=e[t].apply(this,arguments);a--;)i=e[a].call(this,i);return i}},S.after=function(e,t){return function(){if(1>--e)return t.apply(this,arguments)}},S.before=function(e,t){var i;return function(){return 0<--e&&(i=t.apply(this,arguments)),1>=e&&(t=null),i}},S.once=S.partial(S.before,2);var j=!{toString:null}.propertyIsEnumerable('toString'),I=['valueOf','isPrototypeOf','toString','propertyIsEnumerable','hasOwnProperty','toLocaleString'];S.keys=function(e){if(!S.isObject(e))return[];if(b)return b(e);var t=[];for(var i in e)S.has(e,i)&&t.push(i);return j&&l(e,t),t},S.allKeys=function(e){if(!S.isObject(e))return[];var t=[];for(var i in e)t.push(i);return j&&l(e,t),t},S.values=function(e){for(var t=S.keys(e),a=t.length,s=Array(a),n=0;n<a;n++)s[n]=e[t[n]];return s},S.mapObject=function(e,t,i){t=N(t,i);for(var a,s=S.keys(e),n=s.length,d={},o=0;o<n;o++)a=s[o],d[a]=t(e[a],a,e);return d},S.pairs=function(e){for(var t=S.keys(e),a=t.length,s=Array(a),n=0;n<a;n++)s[n]=[t[n],e[t[n]]];return s},S.invert=function(e){for(var t={},a=S.keys(e),s=0,i=a.length;s<i;s++)t[e[a[s]]]=a[s];return t},S.functions=S.methods=function(e){var t=[];for(var i in e)S.isFunction(e[i])&&t.push(i);return t.sort()},S.extend=z(S.allKeys),S.extendOwn=S.assign=z(S.keys),S.findKey=function(e,t,a){t=N(t,a);for(var s,n=S.keys(e),d=0,i=n.length;d<i;d++)if(s=n[d],t(e[s],s,e))return s},S.pick=function(e,t,a){var s,n,d={},o=e;if(null==o)return d;S.isFunction(t)?(n=S.allKeys(o),s=_(t,a)):(n=A(arguments,!1,!1,1),s=function(e,t,i){return t in i},o=Object(o));for(var r=0,i=n.length;r<i;r++){var l=n[r],h=o[l];s(h,l,o)&&(d[l]=h)}return d},S.omit=function(e,t,i){if(S.isFunction(t))t=S.negate(t);else{var a=S.map(A(arguments,!1,!1,1),String);t=function(e,t){return!S.contains(a,t)}}return S.pick(e,t,i)},S.defaults=z(S.allKeys,!0),S.create=function(e,t){var i=G(e);return t&&S.extendOwn(i,t),i},S.clone=function(e){return S.isObject(e)?S.isArray(e)?e.slice():S.extend({},e):e},S.tap=function(e,t){return t(e),e},S.isMatch=function(e,t){var a=S.keys(t),s=a.length;if(null==e)return!s;for(var n,d=Object(e),o=0;o<s;o++)if(n=a[o],t[n]!==d[n]||!(n in d))return!1;return!0};var U=function(e,t,i,s){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof S&&(e=e._wrapped),t instanceof S&&(t=t._wrapped);var n=y.call(e);if(n!==y.call(t))return!1;switch(n){case'[object RegExp]':case'[object String]':return''+e==''+t;case'[object Number]':return+e==+e?0==+e?1/+e==1/t:+e==+t:+t!=+t;case'[object Date]':case'[object Boolean]':return+e==+t;}var d='[object Array]'===n;if(!d){if('object'!=typeof e||'object'!=typeof t)return!1;var o=e.constructor,r=t.constructor;if(o!==r&&!(S.isFunction(o)&&o instanceof o&&S.isFunction(r)&&r instanceof r)&&'constructor'in e&&'constructor'in t)return!1}i=i||[],s=s||[];for(var l=i.length;l--;)if(i[l]===e)return s[l]===t;if(i.push(e),s.push(t),d){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!U(e[l],t[l],i,s))return!1}else{var h,c=S.keys(e);if(l=c.length,S.keys(t).length!==l)return!1;for(;l--;)if(h=c[l],!(S.has(t,h)&&U(e[h],t[h],i,s)))return!1}return i.pop(),s.pop(),!0};S.isEqual=function(e,t){return U(e,t)},S.isEmpty=function(e){return!(null!=e)||(R(e)&&(S.isArray(e)||S.isString(e)||S.isArguments(e))?0===e.length:0===S.keys(e).length)},S.isElement=function(e){return!!(e&&1===e.nodeType)},S.isArray=k||function(e){return'[object Array]'===y.call(e)},S.isObject=function(e){var t=typeof e;return'function'==t||'object'==t&&!!e},S.each(['Arguments','Function','String','Number','Date','RegExp','Error'],function(e){S['is'+e]=function(t){return y.call(t)==='[object '+e+']'}}),S.isArguments(arguments)||(S.isArguments=function(e){return S.has(e,'callee')}),'function'!=typeof /./&&'object'!=typeof Int8Array&&(S.isFunction=function(e){return'function'==typeof e||!1}),S.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},S.isNaN=function(e){return S.isNumber(e)&&e!==+e},S.isBoolean=function(e){return!0===e||!1===e||'[object Boolean]'===y.call(e)},S.isNull=function(e){return null===e},S.isUndefined=function(e){return void 0===e},S.has=function(e,t){return null!=e&&v.call(e,t)},S.noConflict=function(){return h._=c,this},S.identity=function(e){return e},S.constant=function(e){return function(){return e}},S.noop=function(){},S.property=E,S.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},S.matcher=S.matches=function(e){return e=S.extendOwn({},e),function(t){return S.isMatch(t,e)}},S.times=function(e,t,a){var s=Array(d(0,e));t=_(t,a,1);for(var n=0;n<e;n++)s[n]=t(n);return s},S.random=function(e,t){return null==t&&(t=e,e=0),e+s(Math.random()*(t-e+1))},S.now=Date.now||function(){return new Date().getTime()};var O={"&":'&amp;',"<":'&lt;',">":'&gt;','"':'&quot;',"'":'&#x27;',"`":'&#x60;'},D=S.invert(O),T=function(e){var t=function(t){return e[t]},i='(?:'+S.keys(e).join('|')+')',a=RegExp(i),s=RegExp(i,'g');return function(e){return e=null==e?'':''+e,a.test(e)?e.replace(s,t):e}};S.escape=T(O),S.unescape=T(D),S.result=function(e,t,i){var a=null==e?void 0:e[t];return void 0===a&&(a=i),S.isFunction(a)?a.call(e):a};var q=0;S.uniqueId=function(e){var t=++q+'';return e?e+t:t},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,F={"'":'\'',"\\":'\\',"\r":'r',"\n":'n',"\u2028":'u2028',"\u2029":'u2029'},P=/\\|'|\r|\n|\u2028|\u2029/g,L=function(e){return'\\'+F[e]};S.template=function(e,t,i){!t&&i&&(t=i),t=S.defaults({},t,S.templateSettings);var a=RegExp([(t.escape||B).source,(t.interpolate||B).source,(t.evaluate||B).source].join('|')+'|$','g'),s=0,n='__p+=\'';e.replace(a,function(t,i,a,d,o){return n+=e.slice(s,o).replace(P,L),s=o+t.length,i?n+='\'+\n((__t=('+i+'))==null?\'\':_.escape(__t))+\n\'':a?n+='\'+\n((__t=('+a+'))==null?\'\':__t)+\n\'':d&&(n+='\';\n'+d+'\n__p+=\''),t}),n+='\';\n',t.variable||(n='with(obj||{}){\n'+n+'}\n'),n='var __t,__p=\'\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\'\');};\n'+n+'return __p;\n';try{var d=new Function(t.variable||'obj','_',n)}catch(t){throw t.source=n,t}var o=function(e){return d.call(this,e,S)},r=t.variable||'obj';return o.source='function('+r+'){\n'+n+'}',o},S.chain=function(e){var t=S(e);return t._chain=!0,t};var Y=function(e,t){return e._chain?S(t).chain():t};S.mixin=function(e){S.each(S.functions(e),function(t){var i=S[t]=e[t];S.prototype[t]=function(){var e=[this._wrapped];return f.apply(e,arguments),Y(this,i.apply(S,e))}})},S.mixin(S),S.each(['pop','push','reverse','shift','sort','splice','unshift'],function(e){var t=g[e];S.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),('shift'===e||'splice'===e)&&0===i.length&&delete i[0],Y(this,i)}}),S.each(['concat','join','slice'],function(e){var t=g[e];S.prototype[e]=function(){return Y(this,t.apply(this._wrapped,arguments))}}),S.prototype.value=function(){return this._wrapped},S.prototype.valueOf=S.prototype.toJSON=S.prototype.value,S.prototype.toString=function(){return''+this._wrapped},i=[],a=function(){return S}.apply(t,i),!(a!==void 0&&(e.exports=a))}).call(this)},150:function(){'use strict';(function(e){function t(t){if('string'==typeof t.data&&(t.data={keys:t.data}),t.data&&t.data.keys&&'string'==typeof t.data.keys){var a=t.handler,s=t.data.keys.toLowerCase().split(' ');t.handler=function(t){if(!(this!==t.target&&(e.hotkeys.options.filterInputAcceptingElements&&e.hotkeys.textInputTypes.test(t.target.nodeName)||e.hotkeys.options.filterContentEditable&&e(t.target).attr('contenteditable')||e.hotkeys.options.filterTextInputs&&-1<e.inArray(t.target.type,e.hotkeys.textAcceptingInputTypes)))){var n='keypress'!==t.type&&e.hotkeys.specialKeys[t.which],d=String.fromCharCode(t.which).toLowerCase(),o='',r={};e.each(['alt','ctrl','shift'],function(e,i){t[i+'Key']&&n!==i&&(o+=i+'+')}),t.metaKey&&!t.ctrlKey&&'meta'!==n&&(o+='meta+'),t.metaKey&&'meta'!==n&&-1<o.indexOf('alt+ctrl+shift+')&&(o=o.replace('alt+ctrl+shift+','hyper+')),n?r[o+n]=!0:(r[o+d]=!0,r[o+e.hotkeys.shiftNums[d]]=!0,'shift+'===o&&(r[e.hotkeys.shiftNums[d]]=!0));for(var h=0,i=s.length;h<i;h++)if(r[s[h]])return a.apply(this,arguments)}}}}e.hotkeys={version:'0.2.0',specialKeys:{8:'backspace',9:'tab',10:'return',13:'return',16:'shift',17:'ctrl',18:'alt',19:'pause',20:'capslock',27:'esc',32:'space',33:'pageup',34:'pagedown',35:'end',36:'home',37:'left',38:'up',39:'right',40:'down',45:'insert',46:'del',59:';',61:'=',96:'0',97:'1',98:'2',99:'3',100:'4',101:'5',102:'6',103:'7',104:'8',105:'9',106:'*',107:'+',109:'-',110:'.',111:'/',112:'f1',113:'f2',114:'f3',115:'f4',116:'f5',117:'f6',118:'f7',119:'f8',120:'f9',121:'f10',122:'f11',123:'f12',144:'numlock',145:'scroll',173:'-',186:';',187:'=',188:',',189:'-',190:'.',191:'/',192:'`',219:'[',220:'\\',221:']',222:'\''},shiftNums:{0:')',1:'!',2:'@',3:'#',4:'$',5:'%',6:'^',7:'&',8:'*',9:'(',"`":'~',"-":'_',"=":'+',";":': ',"'":'"',",":'<',".":'>',"/":'?',"\\":'|'},textAcceptingInputTypes:['text','password','number','email','url','range','date','month','week','time','datetime','datetime-local','search','color','tel'],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,filterContentEditable:!0}},e.each(['keydown','keyup','keypress'],function(){e.event.special[this]={add:t}})})(jQuery||(void 0).jQuery||window.jQuery)},163:function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default={gridstack:function(){var e={xs:'zd--xs',xsTxt:'Extra Small',sm:'zd--sm',smTxt:'Small',default:'zd--default',defaultTxt:'Default',lg:'zd--lg',lgTxt:'Large'},t=function(t,i){var a=i.closest('.grid-stack-item-content').find('.card__header--left span');5>t.width?(i.attr('class','zd '+e.xs),!!a.length&&a.text(e.xsTxt)):8>t.width?(i.attr('class','zd '+e.sm),!!a.length&&a.text(e.smTxt)):12>t.width?(i.attr('class','zd '+e.default),!!a.length&&a.text(e.defaultTxt)):(i.attr('class','zd '+e.lg),!!a.length&&a.text(e.lgTxt))};$(function(){var e=$('.grid-stack').data('gridstack'),i=$('.grid-stack');i.on('change',function(e,a){if(a===void 0)return!1;for(var s=0;s<a.length;s++){var i=$(a[s].el).find('.zd'),n=a[s];i!==void 0&&t(n,i)}})})}}},164:function(e,t,i){i(2)(i(165))},165:function(e){e.exports='/**\n * gridstack.js 0.2.6\n * http://troolee.github.io/gridstack.js/\n * (c) 2014-2016 Pavel Reznikov\n * gridstack.js may be freely distributed under the MIT license.\n * @preserve\n*/\n(function(factory) {\n    if (typeof define === \'function\' && define.amd) {\n        define([\'jquery\', \'lodash\', \'jquery-ui/data\', \'jquery-ui/disable-selection\', \'jquery-ui/focusable\',\n            \'jquery-ui/form\', \'jquery-ui/ie\', \'jquery-ui/keycode\', \'jquery-ui/labels\', \'jquery-ui/jquery-1-7\',\n            \'jquery-ui/plugin\', \'jquery-ui/safe-active-element\', \'jquery-ui/safe-blur\', \'jquery-ui/scroll-parent\',\n            \'jquery-ui/tabbable\', \'jquery-ui/unique-id\', \'jquery-ui/version\', \'jquery-ui/widget\',\n            \'jquery-ui/widgets/mouse\', \'jquery-ui/widgets/draggable\', \'jquery-ui/widgets/droppable\',\n            \'jquery-ui/widgets/resizable\'], factory);\n    } else if (typeof exports !== \'undefined\') {\n        try { jQuery = require(\'jquery\'); } catch (e) {}\n        try { _ = require(\'lodash\'); } catch (e) {}\n        factory(jQuery, _);\n    } else {\n        factory(jQuery, _);\n    }\n})(function($, _) {\n\n    var scope = window;\n\n    var obsolete = function(f, oldName, newName) {\n        var wrapper = function() {\n            console.warn(\'gridstack.js: Function `\' + oldName + \'` is deprecated as of v0.2.5 and has been replaced \' +\n            \'with `\' + newName + \'`. It will be **completely** removed in v1.0.\');\n            return f.apply(this, arguments);\n        };\n        wrapper.prototype = f.prototype;\n\n        return wrapper;\n    };\n\n    var obsoleteOpts = function(oldName, newName) {\n        console.warn(\'gridstack.js: Option `\' + oldName + \'` is deprecated as of v0.2.5 and has been replaced with `\' +\n            newName + \'`. It will be **completely** removed in v1.0.\');\n    };\n\n    var Utils = {\n        isIntercepted: function(a, b) {\n            return !(a.x + a.width <= b.x || b.x + b.width <= a.x || a.y + a.height <= b.y || b.y + b.height <= a.y);\n        },\n\n        sort: function(nodes, dir, width) {\n            width = width || _.chain(nodes).map(function(node) { return node.x + node.width; }).max().value();\n            dir = dir != -1 ? 1 : -1;\n            return _.sortBy(nodes, function(n) { return dir * (n.x + n.y * width); });\n        },\n\n        createStylesheet: function(id) {\n            var style = document.createElement(\'style\');\n            style.setAttribute(\'type\', \'text/css\');\n            style.setAttribute(\'data-gs-style-id\', id);\n            if (style.styleSheet) {\n                style.styleSheet.cssText = \'\';\n            } else {\n                style.appendChild(document.createTextNode(\'\'));\n            }\n            document.getElementsByTagName(\'head\')[0].appendChild(style);\n            return style.sheet;\n        },\n\n        removeStylesheet: function(id) {\n            $(\'STYLE[data-gs-style-id=\' + id + \']\').remove();\n        },\n\n        insertCSSRule: function(sheet, selector, rules, index) {\n            if (typeof sheet.insertRule === \'function\') {\n                sheet.insertRule(selector + \'{\' + rules + \'}\', index);\n            } else if (typeof sheet.addRule === \'function\') {\n                sheet.addRule(selector, rules, index);\n            }\n        },\n\n        toBool: function(v) {\n            if (typeof v == \'boolean\') {\n                return v;\n            }\n            if (typeof v == \'string\') {\n                v = v.toLowerCase();\n                return !(v === \'\' || v == \'no\' || v == \'false\' || v == \'0\');\n            }\n            return Boolean(v);\n        },\n\n        _collisionNodeCheck: function(n) {\n            return n != this.node && Utils.isIntercepted(n, this.nn);\n        },\n\n        _didCollide: function(bn) {\n            return Utils.isIntercepted({x: this.n.x, y: this.newY, width: this.n.width, height: this.n.height}, bn);\n        },\n\n        _isAddNodeIntercepted: function(n) {\n            return Utils.isIntercepted({x: this.x, y: this.y, width: this.node.width, height: this.node.height}, n);\n        },\n\n        parseHeight: function(val) {\n            var height = val;\n            var heightUnit = \'px\';\n            if (height && _.isString(height)) {\n                var match = height.match(/^(-[0-9]+\\.[0-9]+|[0-9]*\\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw)?$/);\n                if (!match) {\n                    throw new Error(\'Invalid height\');\n                }\n                heightUnit = match[2] || \'px\';\n                height = parseFloat(match[1]);\n            }\n            return {height: height, unit: heightUnit};\n        }\n    };\n\n    // jscs:disable requireCamelCaseOrUpperCaseIdentifiers\n    Utils.is_intercepted = obsolete(Utils.isIntercepted, \'is_intercepted\', \'isIntercepted\');\n\n    Utils.create_stylesheet = obsolete(Utils.createStylesheet, \'create_stylesheet\', \'createStylesheet\');\n\n    Utils.remove_stylesheet = obsolete(Utils.removeStylesheet, \'remove_stylesheet\', \'removeStylesheet\');\n\n    Utils.insert_css_rule = obsolete(Utils.insertCSSRule, \'insert_css_rule\', \'insertCSSRule\');\n    // jscs:enable requireCamelCaseOrUpperCaseIdentifiers\n\n    var idSeq = 0;\n\n    var GridStackEngine = function(width, onchange, floatMode, height, items) {\n        this.width = width;\n        this.float = floatMode || false;\n        this.height = height || 0;\n\n        this.nodes = items || [];\n        this.onchange = onchange || function() {};\n\n        this._updateCounter = 0;\n        this._float = this.float;\n\n        this._addedNodes = [];\n        this._removedNodes = [];\n    };\n\n    GridStackEngine.prototype.batchUpdate = function() {\n        this._updateCounter = 1;\n        this.float = true;\n    };\n\n    GridStackEngine.prototype.commit = function() {\n        if (this._updateCounter !== 0) {\n            this._updateCounter = 0;\n            this.float = this._float;\n            this._packNodes();\n            this._notify();\n        }\n    };\n\n    // For Meteor support: https://github.com/troolee/gridstack.js/pull/272\n    GridStackEngine.prototype.getNodeDataByDOMEl = function(el) {\n        return _.find(this.nodes, function(n) { return el.get(0) === n.el.get(0); });\n    };\n\n    GridStackEngine.prototype._fixCollisions = function(node) {\n        var self = this;\n        this._sortNodes(-1);\n\n        var nn = node;\n        var hasLocked = Boolean(_.find(this.nodes, function(n) { return n.locked; }));\n        if (!this.float && !hasLocked) {\n            nn = {x: 0, y: node.y, width: this.width, height: node.height};\n        }\n        while (true) {\n            var collisionNode = _.find(this.nodes, _.bind(Utils._collisionNodeCheck, {node: node, nn: nn}));\n            if (typeof collisionNode == \'undefined\') {\n                return;\n            }\n            this.moveNode(collisionNode, collisionNode.x, node.y + node.height,\n                collisionNode.width, collisionNode.height, true);\n        }\n    };\n\n    GridStackEngine.prototype.isAreaEmpty = function(x, y, width, height) {\n        var nn = {x: x || 0, y: y || 0, width: width || 1, height: height || 1};\n        var collisionNode = _.find(this.nodes, _.bind(function(n) {\n            return Utils.isIntercepted(n, nn);\n        }, this));\n        return collisionNode === null || typeof collisionNode === \'undefined\';\n    };\n\n    GridStackEngine.prototype._sortNodes = function(dir) {\n        this.nodes = Utils.sort(this.nodes, dir, this.width);\n    };\n\n    GridStackEngine.prototype._packNodes = function() {\n        this._sortNodes();\n\n        if (this.float) {\n            _.each(this.nodes, _.bind(function(n, i) {\n                if (n._updating || typeof n._origY == \'undefined\' || n.y == n._origY) {\n                    return;\n                }\n\n                var newY = n.y;\n                while (newY >= n._origY) {\n                    var collisionNode = _.chain(this.nodes)\n                        .find(_.bind(Utils._didCollide, {n: n, newY: newY}))\n                        .value();\n\n                    if (!collisionNode) {\n                        n._dirty = true;\n                        n.y = newY;\n                    }\n                    --newY;\n                }\n            }, this));\n        } else {\n            _.each(this.nodes, _.bind(function(n, i) {\n                if (n.locked) {\n                    return;\n                }\n                while (n.y > 0) {\n                    var newY = n.y - 1;\n                    var canBeMoved = i === 0;\n\n                    if (i > 0) {\n                        var collisionNode = _.chain(this.nodes)\n                            .take(i)\n                            .find(_.bind(Utils._didCollide, {n: n, newY: newY}))\n                            .value();\n                        canBeMoved = typeof collisionNode == \'undefined\';\n                    }\n\n                    if (!canBeMoved) {\n                        break;\n                    }\n                    n._dirty = n.y != newY;\n                    n.y = newY;\n                }\n            }, this));\n        }\n    };\n\n    GridStackEngine.prototype._prepareNode = function(node, resizing) {\n        node = _.defaults(node || {}, {width: 1, height: 1, x: 0, y: 0});\n\n        node.x = parseInt(\'\' + node.x);\n        node.y = parseInt(\'\' + node.y);\n        node.width = parseInt(\'\' + node.width);\n        node.height = parseInt(\'\' + node.height);\n        node.autoPosition = node.autoPosition || false;\n        node.noResize = node.noResize || false;\n        node.noMove = node.noMove || false;\n\n        if (node.width > this.width) {\n            node.width = this.width;\n        } else if (node.width < 1) {\n            node.width = 1;\n        }\n\n        if (node.height < 1) {\n            node.height = 1;\n        }\n\n        if (node.x < 0) {\n            node.x = 0;\n        }\n\n        if (node.x + node.width > this.width) {\n            if (resizing) {\n                node.width = this.width - node.x;\n            } else {\n                node.x = this.width - node.width;\n            }\n        }\n\n        if (node.y < 0) {\n            node.y = 0;\n        }\n\n        return node;\n    };\n\n    GridStackEngine.prototype._notify = function() {\n        var args = Array.prototype.slice.call(arguments, 0);\n        args[0] = typeof args[0] === \'undefined\' ? [] : [args[0]];\n        args[1] = typeof args[1] === \'undefined\' ? true : args[1];\n        if (this._updateCounter) {\n            return;\n        }\n        var deletedNodes = args[0].concat(this.getDirtyNodes());\n        this.onchange(deletedNodes, args[1]);\n    };\n\n    GridStackEngine.prototype.cleanNodes = function() {\n        if (this._updateCounter) {\n            return;\n        }\n        _.each(this.nodes, function(n) {n._dirty = false; });\n    };\n\n    GridStackEngine.prototype.getDirtyNodes = function() {\n        return _.filter(this.nodes, function(n) { return n._dirty; });\n    };\n\n    GridStackEngine.prototype.addNode = function(node, triggerAddEvent) {\n        node = this._prepareNode(node);\n\n        if (typeof node.maxWidth != \'undefined\') { node.width = Math.min(node.width, node.maxWidth); }\n        if (typeof node.maxHeight != \'undefined\') { node.height = Math.min(node.height, node.maxHeight); }\n        if (typeof node.minWidth != \'undefined\') { node.width = Math.max(node.width, node.minWidth); }\n        if (typeof node.minHeight != \'undefined\') { node.height = Math.max(node.height, node.minHeight); }\n\n        node._id = ++idSeq;\n        node._dirty = true;\n\n        if (node.autoPosition) {\n            this._sortNodes();\n\n            for (var i = 0;; ++i) {\n                var x = i % this.width;\n                var y = Math.floor(i / this.width);\n                if (x + node.width > this.width) {\n                    continue;\n                }\n                if (!_.find(this.nodes, _.bind(Utils._isAddNodeIntercepted, {x: x, y: y, node: node}))) {\n                    node.x = x;\n                    node.y = y;\n                    break;\n                }\n            }\n        }\n\n        this.nodes.push(node);\n        if (typeof triggerAddEvent != \'undefined\' && triggerAddEvent) {\n            this._addedNodes.push(_.clone(node));\n        }\n\n        this._fixCollisions(node);\n        this._packNodes();\n        this._notify();\n        return node;\n    };\n\n    GridStackEngine.prototype.removeNode = function(node, detachNode) {\n        detachNode = typeof detachNode === \'undefined\' ? true : detachNode;\n        this._removedNodes.push(_.clone(node));\n        node._id = null;\n        this.nodes = _.without(this.nodes, node);\n        this._packNodes();\n        this._notify(node, detachNode);\n    };\n\n    GridStackEngine.prototype.canMoveNode = function(node, x, y, width, height) {\n        var hasLocked = Boolean(_.find(this.nodes, function(n) { return n.locked; }));\n\n        if (!this.height && !hasLocked) {\n            return true;\n        }\n\n        var clonedNode;\n        var clone = new GridStackEngine(\n            this.width,\n            null,\n            this.float,\n            0,\n            _.map(this.nodes, function(n) {\n                if (n == node) {\n                    clonedNode = $.extend({}, n);\n                    return clonedNode;\n                }\n                return $.extend({}, n);\n            }));\n\n        if (typeof clonedNode === \'undefined\') {\n            return true;\n        }\n\n        clone.moveNode(clonedNode, x, y, width, height);\n\n        var res = true;\n\n        if (hasLocked) {\n            res &= !Boolean(_.find(clone.nodes, function(n) {\n                return n != clonedNode && Boolean(n.locked) && Boolean(n._dirty);\n            }));\n        }\n        if (this.height) {\n            res &= clone.getGridHeight() <= this.height;\n        }\n\n        return res;\n    };\n\n    GridStackEngine.prototype.canBePlacedWithRespectToHeight = function(node) {\n        if (!this.height) {\n            return true;\n        }\n\n        var clone = new GridStackEngine(\n            this.width,\n            null,\n            this.float,\n            0,\n            _.map(this.nodes, function(n) { return $.extend({}, n); }));\n        clone.addNode(node);\n        return clone.getGridHeight() <= this.height;\n    };\n\n    GridStackEngine.prototype.moveNode = function(node, x, y, width, height, noPack) {\n        if (typeof x != \'number\') { x = node.x; }\n        if (typeof y != \'number\') { y = node.y; }\n        if (typeof width != \'number\') { width = node.width; }\n        if (typeof height != \'number\') { height = node.height; }\n\n        if (typeof node.maxWidth != \'undefined\') { width = Math.min(width, node.maxWidth); }\n        if (typeof node.maxHeight != \'undefined\') { height = Math.min(height, node.maxHeight); }\n        if (typeof node.minWidth != \'undefined\') { width = Math.max(width, node.minWidth); }\n        if (typeof node.minHeight != \'undefined\') { height = Math.max(height, node.minHeight); }\n\n        if (node.x == x && node.y == y && node.width == width && node.height == height) {\n            return node;\n        }\n\n        var resizing = node.width != width;\n        node._dirty = true;\n\n        node.x = x;\n        node.y = y;\n        node.width = width;\n        node.height = height;\n\n        node = this._prepareNode(node, resizing);\n\n        this._fixCollisions(node);\n        if (!noPack) {\n            this._packNodes();\n            this._notify();\n        }\n        return node;\n    };\n\n    GridStackEngine.prototype.getGridHeight = function() {\n        return _.reduce(this.nodes, function(memo, n) { return Math.max(memo, n.y + n.height); }, 0);\n    };\n\n    GridStackEngine.prototype.beginUpdate = function(node) {\n        _.each(this.nodes, function(n) {\n            n._origY = n.y;\n        });\n        node._updating = true;\n    };\n\n    GridStackEngine.prototype.endUpdate = function() {\n        _.each(this.nodes, function(n) {\n            n._origY = n.y;\n        });\n        var n = _.find(this.nodes, function(n) { return n._updating; });\n        if (n) {\n            n._updating = false;\n        }\n    };\n\n    var GridStack = function(el, opts) {\n        var self = this;\n        var oneColumnMode, isAutoCellHeight;\n\n        opts = opts || {};\n\n        this.container = $(el);\n\n        // jscs:disable requireCamelCaseOrUpperCaseIdentifiers\n        if (typeof opts.handle_class !== \'undefined\') {\n            opts.handleClass = opts.handle_class;\n            obsoleteOpts(\'handle_class\', \'handleClass\');\n        }\n        if (typeof opts.item_class !== \'undefined\') {\n            opts.itemClass = opts.item_class;\n            obsoleteOpts(\'item_class\', \'itemClass\');\n        }\n        if (typeof opts.placeholder_class !== \'undefined\') {\n            opts.placeholderClass = opts.placeholder_class;\n            obsoleteOpts(\'placeholder_class\', \'placeholderClass\');\n        }\n        if (typeof opts.placeholder_text !== \'undefined\') {\n            opts.placeholderText = opts.placeholder_text;\n            obsoleteOpts(\'placeholder_text\', \'placeholderText\');\n        }\n        if (typeof opts.cell_height !== \'undefined\') {\n            opts.cellHeight = opts.cell_height;\n            obsoleteOpts(\'cell_height\', \'cellHeight\');\n        }\n        if (typeof opts.vertical_margin !== \'undefined\') {\n            opts.verticalMargin = opts.vertical_margin;\n            obsoleteOpts(\'vertical_margin\', \'verticalMargin\');\n        }\n        if (typeof opts.min_width !== \'undefined\') {\n            opts.minWidth = opts.min_width;\n            obsoleteOpts(\'min_width\', \'minWidth\');\n        }\n        if (typeof opts.static_grid !== \'undefined\') {\n            opts.staticGrid = opts.static_grid;\n            obsoleteOpts(\'static_grid\', \'staticGrid\');\n        }\n        if (typeof opts.is_nested !== \'undefined\') {\n            opts.isNested = opts.is_nested;\n            obsoleteOpts(\'is_nested\', \'isNested\');\n        }\n        if (typeof opts.always_show_resize_handle !== \'undefined\') {\n            opts.alwaysShowResizeHandle = opts.always_show_resize_handle;\n            obsoleteOpts(\'always_show_resize_handle\', \'alwaysShowResizeHandle\');\n        }\n        // jscs:enable requireCamelCaseOrUpperCaseIdentifiers\n\n        opts.itemClass = opts.itemClass || \'grid-stack-item\';\n        var isNested = this.container.closest(\'.\' + opts.itemClass).length > 0;\n\n        this.opts = _.defaults(opts || {}, {\n            width: parseInt(this.container.attr(\'data-gs-width\')) || 12,\n            height: parseInt(this.container.attr(\'data-gs-height\')) || 0,\n            itemClass: \'grid-stack-item\',\n            placeholderClass: \'grid-stack-placeholder\',\n            placeholderText: \'\',\n            handle: \'.grid-stack-item-content\',\n            handleClass: null,\n            cellHeight: 60,\n            verticalMargin: 20,\n            auto: true,\n            minWidth: 768,\n            float: false,\n            staticGrid: false,\n            _class: \'grid-stack-instance-\' + (Math.random() * 10000).toFixed(0),\n            animate: Boolean(this.container.attr(\'data-gs-animate\')) || false,\n            alwaysShowResizeHandle: opts.alwaysShowResizeHandle || false,\n            resizable: _.defaults(opts.resizable || {}, {\n                autoHide: !(opts.alwaysShowResizeHandle || false),\n                handles: \'se\'\n            }),\n            draggable: _.defaults(opts.draggable || {}, {\n                handle: (opts.handleClass ? \'.\' + opts.handleClass : (opts.handle ? opts.handle : \'\')) ||\n                    \'.grid-stack-item-content\',\n                scroll: false,\n                appendTo: \'body\'\n            }),\n            disableDrag: opts.disableDrag || false,\n            disableResize: opts.disableResize || false,\n            rtl: \'auto\',\n            removable: false,\n            removeTimeout: 2000,\n            verticalMarginUnit: \'px\',\n            cellHeightUnit: \'px\'\n        });\n\n        if (this.opts.rtl === \'auto\') {\n            this.opts.rtl = this.container.css(\'direction\') === \'rtl\';\n        }\n\n        if (this.opts.rtl) {\n            this.container.addClass(\'grid-stack-rtl\');\n        }\n\n        this.opts.isNested = isNested;\n\n        isAutoCellHeight = this.opts.cellHeight === \'auto\';\n        if (isAutoCellHeight) {\n            self.cellHeight(self.cellWidth(), true);\n        } else {\n            this.cellHeight(this.opts.cellHeight, true);\n        }\n        this.verticalMargin(this.opts.verticalMargin, true);\n\n        this.container.addClass(this.opts._class);\n\n        this._setStaticClass();\n\n        if (isNested) {\n            this.container.addClass(\'grid-stack-nested\');\n        }\n\n        this._initStyles();\n\n        this.grid = new GridStackEngine(this.opts.width, function(nodes, detachNode) {\n            detachNode = typeof detachNode === \'undefined\' ? true : detachNode;\n            var maxHeight = 0;\n            _.each(nodes, function(n) {\n                if (detachNode && n._id === null) {\n                    if (n.el) {\n                        n.el.remove();\n                    }\n                } else {\n                    n.el\n                        .attr(\'data-gs-x\', n.x)\n                        .attr(\'data-gs-y\', n.y)\n                        .attr(\'data-gs-width\', n.width)\n                        .attr(\'data-gs-height\', n.height);\n                    maxHeight = Math.max(maxHeight, n.y + n.height);\n                }\n            });\n            self._updateStyles(maxHeight + 10);\n        }, this.opts.float, this.opts.height);\n\n        if (this.opts.auto) {\n            var elements = [];\n            var _this = this;\n            this.container.children(\'.\' + this.opts.itemClass + \':not(.\' + this.opts.placeholderClass + \')\')\n                .each(function(index, el) {\n                el = $(el);\n                elements.push({\n                    el: el,\n                    i: parseInt(el.attr(\'data-gs-x\')) + parseInt(el.attr(\'data-gs-y\')) * _this.opts.width\n                });\n            });\n            _.chain(elements).sortBy(function(x) { return x.i; }).each(function(i) {\n                self._prepareElement(i.el);\n            }).value();\n        }\n\n        this.setAnimation(this.opts.animate);\n\n        this.placeholder = $(\n            \'<div class="\' + this.opts.placeholderClass + \' \' + this.opts.itemClass + \'">\' +\n            \'<div class="placeholder-content">\' + this.opts.placeholderText + \'</div></div>\').hide();\n\n        this._updateContainerHeight();\n\n        this._updateHeightsOnResize = _.throttle(function() {\n            self.cellHeight(self.cellWidth(), false);\n        }, 100);\n\n        this.onResizeHandler = function() {\n            if (isAutoCellHeight) {\n                self._updateHeightsOnResize();\n            }\n\n            if (self._isOneColumnMode()) {\n                if (oneColumnMode) {\n                    return;\n                }\n\n                oneColumnMode = true;\n\n                self.grid._sortNodes();\n                _.each(self.grid.nodes, function(node) {\n                    self.container.append(node.el);\n\n                    if (self.opts.staticGrid) {\n                        return;\n                    }\n                    if (node.noMove || self.opts.disableDrag) {\n                        node.el.draggable(\'disable\');\n                    }\n                    if (node.noResize || self.opts.disableResize) {\n                        node.el.resizable(\'disable\');\n                    }\n\n                    node.el.trigger(\'resize\');\n                });\n            } else {\n                if (!oneColumnMode) {\n                    return;\n                }\n\n                oneColumnMode = false;\n\n                if (self.opts.staticGrid) {\n                    return;\n                }\n\n                _.each(self.grid.nodes, function(node) {\n                    if (!node.noMove && !self.opts.disableDrag) {\n                        node.el.draggable(\'enable\');\n                    }\n                    if (!node.noResize && !self.opts.disableResize) {\n                        node.el.resizable(\'enable\');\n                    }\n\n                    node.el.trigger(\'resize\');\n                });\n            }\n        };\n\n        $(window).resize(this.onResizeHandler);\n        this.onResizeHandler();\n\n        if (!self.opts.staticGrid && typeof self.opts.removable === \'string\') {\n            var trashZone = $(self.opts.removable);\n            if (!trashZone.data(\'droppable\')) {\n                trashZone.droppable({\n                    accept: \'.\' + self.opts.itemClass\n                });\n            }\n            trashZone\n                .on(\'dropover\', function(event, ui) {\n                    var el = $(ui.draggable);\n                    var node = el.data(\'_gridstack_node\');\n                    if (node._grid !== self) {\n                        return;\n                    }\n                    self._setupRemovingTimeout(el);\n                })\n                .on(\'dropout\', function(event, ui) {\n                    var el = $(ui.draggable);\n                    var node = el.data(\'_gridstack_node\');\n                    if (node._grid !== self) {\n                        return;\n                    }\n                    self._clearRemovingTimeout(el);\n                });\n        }\n\n        if (!self.opts.staticGrid && self.opts.acceptWidgets) {\n            var draggingElement = null;\n\n            var onDrag = function(event, ui) {\n                var el = draggingElement;\n                var node = el.data(\'_gridstack_node\');\n                var pos = self.getCellFromPixel(ui.offset, true);\n                var x = Math.max(0, pos.x);\n                var y = Math.max(0, pos.y);\n                if (!node._added) {\n                    node._added = true;\n\n                    node.el = el;\n                    node.x = x;\n                    node.y = y;\n                    self.grid.cleanNodes();\n                    self.grid.beginUpdate(node);\n                    self.grid.addNode(node);\n\n                    self.container.append(self.placeholder);\n                    self.placeholder\n                        .attr(\'data-gs-x\', node.x)\n                        .attr(\'data-gs-y\', node.y)\n                        .attr(\'data-gs-width\', node.width)\n                        .attr(\'data-gs-height\', node.height)\n                        .show();\n                    node.el = self.placeholder;\n                    node._beforeDragX = node.x;\n                    node._beforeDragY = node.y;\n\n                    self._updateContainerHeight();\n                } else {\n                    if (!self.grid.canMoveNode(node, x, y)) {\n                        return;\n                    }\n                    self.grid.moveNode(node, x, y);\n                    self._updateContainerHeight();\n                }\n            };\n\n            $(self.container).droppable({\n                accept: function(el) {\n                    el = $(el);\n                    var node = el.data(\'_gridstack_node\');\n                    if (node && node._grid === self) {\n                        return false;\n                    }\n                    return el.is(self.opts.acceptWidgets === true ? \'.grid-stack-item\' : self.opts.acceptWidgets);\n                },\n                over: function(event, ui) {\n                    var offset = self.container.offset();\n                    var el = $(ui.draggable);\n                    var cellWidth = self.cellWidth();\n                    var cellHeight = self.cellHeight();\n                    var origNode = el.data(\'_gridstack_node\');\n\n                    var width = origNode ? origNode.width : (Math.ceil(el.outerWidth() / cellWidth));\n                    var height = origNode ? origNode.height : (Math.ceil(el.outerHeight() / cellHeight));\n\n                    draggingElement = el;\n\n                    var node = self.grid._prepareNode({width: width, height: height, _added: false, _temporary: true});\n                    el.data(\'_gridstack_node\', node);\n                    el.data(\'_gridstack_node_orig\', origNode);\n\n                    el.on(\'drag\', onDrag);\n                },\n                out: function(event, ui) {\n                    var el = $(ui.draggable);\n                    el.unbind(\'drag\', onDrag);\n                    var node = el.data(\'_gridstack_node\');\n                    node.el = null;\n                    self.grid.removeNode(node);\n                    self.placeholder.detach();\n                    self._updateContainerHeight();\n                    el.data(\'_gridstack_node\', el.data(\'_gridstack_node_orig\'));\n                },\n                drop: function(event, ui) {\n                    self.placeholder.detach();\n\n                    var node = $(ui.draggable).data(\'_gridstack_node\');\n                    node._grid = self;\n                    var el = $(ui.draggable).clone(false);\n                    el.data(\'_gridstack_node\', node);\n                    $(ui.draggable).remove();\n                    node.el = el;\n                    self.placeholder.hide();\n                    el\n                        .attr(\'data-gs-x\', node.x)\n                        .attr(\'data-gs-y\', node.y)\n                        .attr(\'data-gs-width\', node.width)\n                        .attr(\'data-gs-height\', node.height)\n                        .addClass(self.opts.itemClass)\n                        .removeAttr(\'style\')\n                        .enableSelection()\n                        .removeData(\'draggable\')\n                        .removeClass(\'ui-draggable ui-draggable-dragging ui-draggable-disabled\')\n                        .unbind(\'drag\', onDrag);\n                    self.container.append(el);\n                    self._prepareElementsByNode(el, node);\n                    self._updateContainerHeight();\n                    self._triggerChangeEvent();\n\n                    self.grid.endUpdate();\n                }\n            });\n        }\n    };\n\n    GridStack.prototype._triggerChangeEvent = function(forceTrigger) {\n        var elements = this.grid.getDirtyNodes();\n        var hasChanges = false;\n\n        var eventParams = [];\n        if (elements && elements.length) {\n            eventParams.push(elements);\n            hasChanges = true;\n        }\n\n        if (hasChanges || forceTrigger === true) {\n            this.container.trigger(\'change\', eventParams);\n        }\n    };\n\n    GridStack.prototype._triggerAddEvent = function() {\n        if (this.grid._addedNodes && this.grid._addedNodes.length > 0) {\n            this.container.trigger(\'added\', [_.map(this.grid._addedNodes, _.clone)]);\n            this.grid._addedNodes = [];\n        }\n    };\n\n    GridStack.prototype._triggerRemoveEvent = function() {\n        if (this.grid._removedNodes && this.grid._removedNodes.length > 0) {\n            this.container.trigger(\'removed\', [_.map(this.grid._removedNodes, _.clone)]);\n            this.grid._removedNodes = [];\n        }\n    };\n\n    GridStack.prototype._initStyles = function() {\n        if (this._stylesId) {\n            Utils.removeStylesheet(this._stylesId);\n        }\n        this._stylesId = \'gridstack-style-\' + (Math.random() * 100000).toFixed();\n        this._styles = Utils.createStylesheet(this._stylesId);\n        if (this._styles !== null) {\n            this._styles._max = 0;\n        }\n    };\n\n    GridStack.prototype._updateStyles = function(maxHeight) {\n        if (this._styles === null || typeof this._styles === \'undefined\') {\n            return;\n        }\n\n        var prefix = \'.\' + this.opts._class + \' .\' + this.opts.itemClass;\n        var self = this;\n        var getHeight;\n\n        if (typeof maxHeight == \'undefined\') {\n            maxHeight = this._styles._max;\n            this._initStyles();\n            this._updateContainerHeight();\n        }\n        if (!this.opts.cellHeight) { // The rest will be handled by CSS\n            return ;\n        }\n        if (this._styles._max !== 0 && maxHeight <= this._styles._max) {\n            return ;\n        }\n\n        if (!this.opts.verticalMargin || this.opts.cellHeightUnit === this.opts.verticalMarginUnit) {\n            getHeight = function(nbRows, nbMargins) {\n                return (self.opts.cellHeight * nbRows + self.opts.verticalMargin * nbMargins) +\n                    self.opts.cellHeightUnit;\n            };\n        } else {\n            getHeight = function(nbRows, nbMargins) {\n                if (!nbRows || !nbMargins) {\n                    return (self.opts.cellHeight * nbRows + self.opts.verticalMargin * nbMargins) +\n                        self.opts.cellHeightUnit;\n                }\n                return \'calc(\' + ((self.opts.cellHeight * nbRows) + self.opts.cellHeightUnit) + \' + \' +\n                    ((self.opts.verticalMargin * nbMargins) + self.opts.verticalMarginUnit) + \')\';\n            };\n        }\n\n        if (this._styles._max === 0) {\n            Utils.insertCSSRule(this._styles, prefix, \'min-height: \' + getHeight(1, 0) + \';\', 0);\n        }\n\n        if (maxHeight > this._styles._max) {\n            for (var i = this._styles._max; i < maxHeight; ++i) {\n                Utils.insertCSSRule(this._styles,\n                    prefix + \'[data-gs-height="\' + (i + 1) + \'"]\',\n                    \'height: \' + getHeight(i + 1, i) + \';\',\n                    i\n                );\n                Utils.insertCSSRule(this._styles,\n                    prefix + \'[data-gs-min-height="\' + (i + 1) + \'"]\',\n                    \'min-height: \' + getHeight(i + 1, i) + \';\',\n                    i\n                );\n                Utils.insertCSSRule(this._styles,\n                    prefix + \'[data-gs-max-height="\' + (i + 1) + \'"]\',\n                    \'max-height: \' + getHeight(i + 1, i) + \';\',\n                    i\n                );\n                Utils.insertCSSRule(this._styles,\n                    prefix + \'[data-gs-y="\' + i + \'"]\',\n                    \'top: \' + getHeight(i, i) + \';\',\n                    i\n                );\n            }\n            this._styles._max = maxHeight;\n        }\n    };\n\n    GridStack.prototype._updateContainerHeight = function() {\n        if (this.grid._updateCounter) {\n            return;\n        }\n        var height = this.grid.getGridHeight();\n        this.container.attr(\'data-gs-current-height\', height);\n        if (!this.opts.cellHeight) {\n            return ;\n        }\n        if (!this.opts.verticalMargin) {\n            this.container.css(\'height\', (height * (this.opts.cellHeight)) + this.opts.cellHeightUnit);\n        } else if (this.opts.cellHeightUnit === this.opts.verticalMarginUnit) {\n            this.container.css(\'height\', (height * (this.opts.cellHeight + this.opts.verticalMargin) -\n                this.opts.verticalMargin) + this.opts.cellHeightUnit);\n        } else {\n            this.container.css(\'height\', \'calc(\' + ((height * (this.opts.cellHeight)) + this.opts.cellHeightUnit) +\n                \' + \' + ((height * (this.opts.verticalMargin - 1)) + this.opts.verticalMarginUnit) + \')\');\n        }\n    };\n\n    GridStack.prototype._isOneColumnMode = function() {\n        return (window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth) <=\n            this.opts.minWidth;\n    };\n\n    GridStack.prototype._setupRemovingTimeout = function(el) {\n        var self = this;\n        var node = $(el).data(\'_gridstack_node\');\n\n        if (node._removeTimeout || !self.opts.removable) {\n            return;\n        }\n        node._removeTimeout = setTimeout(function() {\n            el.addClass(\'grid-stack-item-removing\');\n            node._isAboutToRemove = true;\n        }, self.opts.removeTimeout);\n    };\n\n    GridStack.prototype._clearRemovingTimeout = function(el) {\n        var node = $(el).data(\'_gridstack_node\');\n\n        if (!node._removeTimeout) {\n            return;\n        }\n        clearTimeout(node._removeTimeout);\n        node._removeTimeout = null;\n        el.removeClass(\'grid-stack-item-removing\');\n        node._isAboutToRemove = false;\n    };\n\n    GridStack.prototype._prepareElementsByNode = function(el, node) {\n        if (typeof $.ui === \'undefined\') {\n            return;\n        }\n        var self = this;\n\n        var cellWidth;\n        var cellHeight;\n\n        var dragOrResize = function(event, ui) {\n            var x = Math.round(ui.position.left / cellWidth);\n            var y = Math.floor((ui.position.top + cellHeight / 2) / cellHeight);\n            var width;\n            var height;\n\n            if (event.type != \'drag\') {\n                width = Math.round(ui.size.width / cellWidth);\n                height = Math.round(ui.size.height / cellHeight);\n            }\n\n            if (event.type == \'drag\') {\n                if (x < 0 || x >= self.grid.width || y < 0) {\n                    if (self.opts.removable === true) {\n                        self._setupRemovingTimeout(el);\n                    }\n\n                    x = node._beforeDragX;\n                    y = node._beforeDragY;\n\n                    self.placeholder.detach();\n                    self.placeholder.hide();\n                    self.grid.removeNode(node);\n                    self._updateContainerHeight();\n\n                    node._temporaryRemoved = true;\n                } else {\n                    self._clearRemovingTimeout(el);\n\n                    if (node._temporaryRemoved) {\n                        self.grid.addNode(node);\n                        self.placeholder\n                            .attr(\'data-gs-x\', x)\n                            .attr(\'data-gs-y\', y)\n                            .attr(\'data-gs-width\', width)\n                            .attr(\'data-gs-height\', height)\n                            .show();\n                        self.container.append(self.placeholder);\n                        node.el = self.placeholder;\n                        node._temporaryRemoved = false;\n                    }\n                }\n            } else if (event.type == \'resize\')  {\n                if (x < 0) {\n                    return;\n                }\n            }\n\n            if (!self.grid.canMoveNode(node, x, y, width, height)) {\n                return;\n            }\n            self.grid.moveNode(node, x, y, width, height);\n            self._updateContainerHeight();\n        };\n\n        var onStartMoving = function(event, ui) {\n            self.container.append(self.placeholder);\n            var o = $(this);\n            self.grid.cleanNodes();\n            self.grid.beginUpdate(node);\n            cellWidth = self.cellWidth();\n            var strictCellHeight = Math.ceil(o.outerHeight() / o.attr(\'data-gs-height\'));\n            cellHeight = self.container.height() / parseInt(self.container.attr(\'data-gs-current-height\'));\n            self.placeholder\n                .attr(\'data-gs-x\', o.attr(\'data-gs-x\'))\n                .attr(\'data-gs-y\', o.attr(\'data-gs-y\'))\n                .attr(\'data-gs-width\', o.attr(\'data-gs-width\'))\n                .attr(\'data-gs-height\', o.attr(\'data-gs-height\'))\n                .show();\n            node.el = self.placeholder;\n            node._beforeDragX = node.x;\n            node._beforeDragY = node.y;\n\n            el.resizable(\'option\', \'minWidth\', cellWidth * (node.minWidth || 1));\n            el.resizable(\'option\', \'minHeight\', strictCellHeight * (node.minHeight || 1));\n\n            if (event.type == \'resizestart\') {\n                o.find(\'.grid-stack-item\').trigger(\'resizestart\');\n            }\n        };\n\n        var onEndMoving = function(event, ui) {\n            var o = $(this);\n            if (!o.data(\'_gridstack_node\')) {\n                return;\n            }\n\n            var forceNotify = false;\n            self.placeholder.detach();\n            node.el = o;\n            self.placeholder.hide();\n\n            if (node._isAboutToRemove) {\n                forceNotify = true;\n                el.removeData(\'_gridstack_node\');\n                el.remove();\n            } else {\n                self._clearRemovingTimeout(el);\n                if (!node._temporaryRemoved) {\n                    o\n                        .attr(\'data-gs-x\', node.x)\n                        .attr(\'data-gs-y\', node.y)\n                        .attr(\'data-gs-width\', node.width)\n                        .attr(\'data-gs-height\', node.height)\n                        .removeAttr(\'style\');\n                } else {\n                    o\n                        .attr(\'data-gs-x\', node._beforeDragX)\n                        .attr(\'data-gs-y\', node._beforeDragY)\n                        .attr(\'data-gs-width\', node.width)\n                        .attr(\'data-gs-height\', node.height)\n                        .removeAttr(\'style\');\n                    node.x = node._beforeDragX;\n                    node.y = node._beforeDragY;\n                    self.grid.addNode(node);\n                }\n            }\n            self._updateContainerHeight();\n            self._triggerChangeEvent(forceNotify);\n\n            self.grid.endUpdate();\n\n            var nestedGrids = o.find(\'.grid-stack\');\n            if (nestedGrids.length && event.type == \'resizestop\') {\n                nestedGrids.each(function(index, el) {\n                    $(el).data(\'gridstack\').onResizeHandler();\n                });\n                o.find(\'.grid-stack-item\').trigger(\'resizestop\');\n            }\n        };\n\n        el\n            .draggable(_.extend({}, this.opts.draggable, {\n                containment: this.opts.isNested ? this.container.parent() : null,\n                start: onStartMoving,\n                stop: onEndMoving,\n                drag: dragOrResize\n            }))\n            .resizable(_.extend({}, this.opts.resizable, {\n                start: onStartMoving,\n                stop: onEndMoving,\n                resize: dragOrResize\n            }));\n\n        if (node.noMove || this._isOneColumnMode() || this.opts.disableDrag) {\n            el.draggable(\'disable\');\n        }\n\n        if (node.noResize || this._isOneColumnMode() || this.opts.disableResize) {\n            el.resizable(\'disable\');\n        }\n\n        el.attr(\'data-gs-locked\', node.locked ? \'yes\' : null);\n    };\n\n    GridStack.prototype._prepareElement = function(el, triggerAddEvent) {\n        triggerAddEvent = typeof triggerAddEvent != \'undefined\' ? triggerAddEvent : false;\n        var self = this;\n        el = $(el);\n\n        el.addClass(this.opts.itemClass);\n        var node = self.grid.addNode({\n            x: el.attr(\'data-gs-x\'),\n            y: el.attr(\'data-gs-y\'),\n            width: el.attr(\'data-gs-width\'),\n            height: el.attr(\'data-gs-height\'),\n            maxWidth: el.attr(\'data-gs-max-width\'),\n            minWidth: el.attr(\'data-gs-min-width\'),\n            maxHeight: el.attr(\'data-gs-max-height\'),\n            minHeight: el.attr(\'data-gs-min-height\'),\n            autoPosition: Utils.toBool(el.attr(\'data-gs-auto-position\')),\n            noResize: Utils.toBool(el.attr(\'data-gs-no-resize\')),\n            noMove: Utils.toBool(el.attr(\'data-gs-no-move\')),\n            locked: Utils.toBool(el.attr(\'data-gs-locked\')),\n            el: el,\n            id: el.attr(\'data-gs-id\'),\n            _grid: self\n        }, triggerAddEvent);\n        el.data(\'_gridstack_node\', node);\n\n        this._prepareElementsByNode(el, node);\n    };\n\n    GridStack.prototype.setAnimation = function(enable) {\n        if (enable) {\n            this.container.addClass(\'grid-stack-animate\');\n        } else {\n            this.container.removeClass(\'grid-stack-animate\');\n        }\n    };\n\n    GridStack.prototype.addWidget = function(el, x, y, width, height, autoPosition, minWidth, maxWidth,\n        minHeight, maxHeight, id) {\n        el = $(el);\n        if (typeof x != \'undefined\') { el.attr(\'data-gs-x\', x); }\n        if (typeof y != \'undefined\') { el.attr(\'data-gs-y\', y); }\n        if (typeof width != \'undefined\') { el.attr(\'data-gs-width\', width); }\n        if (typeof height != \'undefined\') { el.attr(\'data-gs-height\', height); }\n        if (typeof autoPosition != \'undefined\') { el.attr(\'data-gs-auto-position\', autoPosition ? \'yes\' : null); }\n        if (typeof minWidth != \'undefined\') { el.attr(\'data-gs-min-width\', minWidth); }\n        if (typeof maxWidth != \'undefined\') { el.attr(\'data-gs-max-width\', maxWidth); }\n        if (typeof minHeight != \'undefined\') { el.attr(\'data-gs-min-height\', minHeight); }\n        if (typeof maxHeight != \'undefined\') { el.attr(\'data-gs-max-height\', maxHeight); }\n        if (typeof id != \'undefined\') { el.attr(\'data-gs-id\', id); }\n        this.container.append(el);\n        this._prepareElement(el, true);\n        this._triggerAddEvent();\n        this._updateContainerHeight();\n        this._triggerChangeEvent(true);\n\n        return el;\n    };\n\n    GridStack.prototype.makeWidget = function(el) {\n        el = $(el);\n        this._prepareElement(el, true);\n        this._triggerAddEvent();\n        this._updateContainerHeight();\n        this._triggerChangeEvent(true);\n\n        return el;\n    };\n\n    GridStack.prototype.willItFit = function(x, y, width, height, autoPosition) {\n        var node = {x: x, y: y, width: width, height: height, autoPosition: autoPosition};\n        return this.grid.canBePlacedWithRespectToHeight(node);\n    };\n\n    GridStack.prototype.removeWidget = function(el, detachNode) {\n        detachNode = typeof detachNode === \'undefined\' ? true : detachNode;\n        el = $(el);\n        var node = el.data(\'_gridstack_node\');\n\n        // For Meteor support: https://github.com/troolee/gridstack.js/pull/272\n        if (!node) {\n            node = this.grid.getNodeDataByDOMEl(el);\n        }\n\n        this.grid.removeNode(node, detachNode);\n        el.removeData(\'_gridstack_node\');\n        this._updateContainerHeight();\n        if (detachNode) {\n            el.remove();\n        }\n        this._triggerChangeEvent(true);\n        this._triggerRemoveEvent();\n    };\n\n    GridStack.prototype.removeAll = function(detachNode) {\n        _.each(this.grid.nodes, _.bind(function(node) {\n            this.removeWidget(node.el, detachNode);\n        }, this));\n        this.grid.nodes = [];\n        this._updateContainerHeight();\n    };\n\n    GridStack.prototype.destroy = function(detachGrid) {\n        $(window).off(\'resize\', this.onResizeHandler);\n        this.disable();\n        if (typeof detachGrid != \'undefined\' && !detachGrid) {\n            this.removeAll(false);\n            this.container.removeData(\'gridstack\');\n        } else {\n            this.container.remove();\n        }\n        Utils.removeStylesheet(this._stylesId);\n        if (this.grid) {\n            this.grid = null;\n        }\n    };\n\n    GridStack.prototype.resizable = function(el, val) {\n        var self = this;\n        el = $(el);\n        el.each(function(index, el) {\n            el = $(el);\n            var node = el.data(\'_gridstack_node\');\n            if (typeof node == \'undefined\' || node === null || typeof $.ui === \'undefined\') {\n                return;\n            }\n\n            node.noResize = !(val || false);\n            if (node.noResize || self._isOneColumnMode()) {\n                el.resizable(\'disable\');\n            } else {\n                el.resizable(\'enable\');\n            }\n        });\n        return this;\n    };\n\n    GridStack.prototype.movable = function(el, val) {\n        var self = this;\n        el = $(el);\n        el.each(function(index, el) {\n            el = $(el);\n            var node = el.data(\'_gridstack_node\');\n            if (typeof node == \'undefined\' || node === null || typeof $.ui === \'undefined\') {\n                return;\n            }\n\n            node.noMove = !(val || false);\n            if (node.noMove || self._isOneColumnMode()) {\n                el.draggable(\'disable\');\n                el.removeClass(\'ui-draggable-handle\');\n            } else {\n                el.draggable(\'enable\');\n                el.addClass(\'ui-draggable-handle\');\n            }\n        });\n        return this;\n    };\n\n    GridStack.prototype.enableMove = function(doEnable, includeNewWidgets) {\n        this.movable(this.container.children(\'.\' + this.opts.itemClass), doEnable);\n        if (includeNewWidgets) {\n            this.opts.disableDrag = !doEnable;\n        }\n    };\n\n    GridStack.prototype.enableResize = function(doEnable, includeNewWidgets) {\n        this.resizable(this.container.children(\'.\' + this.opts.itemClass), doEnable);\n        if (includeNewWidgets) {\n            this.opts.disableResize = !doEnable;\n        }\n    };\n\n    GridStack.prototype.disable = function() {\n        this.movable(this.container.children(\'.\' + this.opts.itemClass), false);\n        this.resizable(this.container.children(\'.\' + this.opts.itemClass), false);\n        this.container.trigger(\'disable\');\n    };\n\n    GridStack.prototype.enable = function() {\n        this.movable(this.container.children(\'.\' + this.opts.itemClass), true);\n        this.resizable(this.container.children(\'.\' + this.opts.itemClass), true);\n        this.container.trigger(\'enable\');\n    };\n\n    GridStack.prototype.locked = function(el, val) {\n        el = $(el);\n        el.each(function(index, el) {\n            el = $(el);\n            var node = el.data(\'_gridstack_node\');\n            if (typeof node == \'undefined\' || node === null) {\n                return;\n            }\n\n            node.locked = (val || false);\n            el.attr(\'data-gs-locked\', node.locked ? \'yes\' : null);\n        });\n        return this;\n    };\n\n    GridStack.prototype.maxHeight = function(el, val) {\n        el = $(el);\n        el.each(function(index, el) {\n            el = $(el);\n            var node = el.data(\'_gridstack_node\');\n            if (typeof node === \'undefined\' || node === null) {\n                return;\n            }\n\n            if (!isNaN(val)) {\n                node.maxHeight = (val || false);\n                el.attr(\'data-gs-max-height\', val);\n            }\n        });\n        return this;\n    };\n\n    GridStack.prototype.minHeight = function(el, val) {\n        el = $(el);\n        el.each(function(index, el) {\n            el = $(el);\n            var node = el.data(\'_gridstack_node\');\n            if (typeof node === \'undefined\' || node === null) {\n                return;\n            }\n\n            if (!isNaN(val)) {\n                node.minHeight = (val || false);\n                el.attr(\'data-gs-min-height\', val);\n            }\n        });\n        return this;\n    };\n\n    GridStack.prototype.maxWidth = function(el, val) {\n        el = $(el);\n        el.each(function(index, el) {\n            el = $(el);\n            var node = el.data(\'_gridstack_node\');\n            if (typeof node === \'undefined\' || node === null) {\n                return;\n            }\n\n            if (!isNaN(val)) {\n                node.maxWidth = (val || false);\n                el.attr(\'data-gs-max-width\', val);\n            }\n        });\n        return this;\n    };\n\n    GridStack.prototype.minWidth = function(el, val) {\n        el = $(el);\n        el.each(function(index, el) {\n            el = $(el);\n            var node = el.data(\'_gridstack_node\');\n            if (typeof node === \'undefined\' || node === null) {\n                return;\n            }\n\n            if (!isNaN(val)) {\n                node.minWidth = (val || false);\n                el.attr(\'data-gs-min-width\', val);\n            }\n        });\n        return this;\n    };\n\n    GridStack.prototype._updateElement = function(el, callback) {\n        el = $(el).first();\n        var node = el.data(\'_gridstack_node\');\n        if (typeof node == \'undefined\' || node === null) {\n            return;\n        }\n\n        var self = this;\n\n        self.grid.cleanNodes();\n        self.grid.beginUpdate(node);\n\n        callback.call(this, el, node);\n\n        self._updateContainerHeight();\n        self._triggerChangeEvent();\n\n        self.grid.endUpdate();\n    };\n\n    GridStack.prototype.resize = function(el, width, height) {\n        this._updateElement(el, function(el, node) {\n            width = (width !== null && typeof width != \'undefined\') ? width : node.width;\n            height = (height !== null && typeof height != \'undefined\') ? height : node.height;\n\n            this.grid.moveNode(node, node.x, node.y, width, height);\n        });\n    };\n\n    GridStack.prototype.move = function(el, x, y) {\n        this._updateElement(el, function(el, node) {\n            x = (x !== null && typeof x != \'undefined\') ? x : node.x;\n            y = (y !== null && typeof y != \'undefined\') ? y : node.y;\n\n            this.grid.moveNode(node, x, y, node.width, node.height);\n        });\n    };\n\n    GridStack.prototype.update = function(el, x, y, width, height) {\n        this._updateElement(el, function(el, node) {\n            x = (x !== null && typeof x != \'undefined\') ? x : node.x;\n            y = (y !== null && typeof y != \'undefined\') ? y : node.y;\n            width = (width !== null && typeof width != \'undefined\') ? width : node.width;\n            height = (height !== null && typeof height != \'undefined\') ? height : node.height;\n\n            this.grid.moveNode(node, x, y, width, height);\n        });\n    };\n\n    GridStack.prototype.verticalMargin = function(val, noUpdate) {\n        if (typeof val == \'undefined\') {\n            return this.opts.verticalMargin;\n        }\n\n        var heightData = Utils.parseHeight(val);\n\n        if (this.opts.verticalMarginUnit === heightData.unit && this.opts.height === heightData.height) {\n            return ;\n        }\n        this.opts.verticalMarginUnit = heightData.unit;\n        this.opts.verticalMargin = heightData.height;\n\n        if (!noUpdate) {\n            this._updateStyles();\n        }\n    };\n\n    GridStack.prototype.cellHeight = function(val, noUpdate) {\n        if (typeof val == \'undefined\') {\n            if (this.opts.cellHeight) {\n                return this.opts.cellHeight;\n            }\n            var o = this.container.children(\'.\' + this.opts.itemClass).first();\n            return Math.ceil(o.outerHeight() / o.attr(\'data-gs-height\'));\n        }\n        var heightData = Utils.parseHeight(val);\n\n        if (this.opts.cellHeightUnit === heightData.heightUnit && this.opts.height === heightData.height) {\n            return ;\n        }\n        this.opts.cellHeightUnit = heightData.unit;\n        this.opts.cellHeight = heightData.height;\n\n        if (!noUpdate) {\n            this._updateStyles();\n        }\n\n    };\n\n    GridStack.prototype.cellWidth = function() {\n        return Math.round(this.container.outerWidth() / this.opts.width);\n    };\n\n    GridStack.prototype.getCellFromPixel = function(position, useOffset) {\n        var containerPos = (typeof useOffset != \'undefined\' && useOffset) ?\n            this.container.offset() : this.container.position();\n        var relativeLeft = position.left - containerPos.left;\n        var relativeTop = position.top - containerPos.top;\n\n        var columnWidth = Math.floor(this.container.width() / this.opts.width);\n        var rowHeight = Math.floor(this.container.height() / parseInt(this.container.attr(\'data-gs-current-height\')));\n\n        return {x: Math.floor(relativeLeft / columnWidth), y: Math.floor(relativeTop / rowHeight)};\n    };\n\n    GridStack.prototype.batchUpdate = function() {\n        this.grid.batchUpdate();\n    };\n\n    GridStack.prototype.commit = function() {\n        this.grid.commit();\n        this._updateContainerHeight();\n    };\n\n    GridStack.prototype.isAreaEmpty = function(x, y, width, height) {\n        return this.grid.isAreaEmpty(x, y, width, height);\n    };\n\n    GridStack.prototype.setStatic = function(staticValue) {\n        this.opts.staticGrid = (staticValue === true);\n        this.enableMove(!staticValue);\n        this.enableResize(!staticValue);\n        this._setStaticClass();\n    };\n\n    GridStack.prototype._setStaticClass = function() {\n        var staticClassName = \'grid-stack-static\';\n\n        if (this.opts.staticGrid === true) {\n            this.container.addClass(staticClassName);\n        } else {\n            this.container.removeClass(staticClassName);\n        }\n    };\n\n    GridStack.prototype._updateNodeWidths = function(oldWidth, newWidth) {\n        this.grid._sortNodes();\n        this.grid.batchUpdate();\n        var node = {};\n        for (var i = 0; i < this.grid.nodes.length; i++) {\n            node = this.grid.nodes[i];\n            this.update(node.el, Math.round(node.x * newWidth / oldWidth), undefined,\n                Math.round(node.width * newWidth / oldWidth), undefined);\n        }\n        this.grid.commit();\n    };\n\n    GridStack.prototype.setGridWidth = function(gridWidth,doNotPropagate) {\n        this.container.removeClass(\'grid-stack-\' + this.opts.width);\n        if (doNotPropagate !== true) {\n            this._updateNodeWidths(this.opts.width, gridWidth);\n        }\n        this.opts.width = gridWidth;\n        this.grid.width = gridWidth;\n        this.container.addClass(\'grid-stack-\' + gridWidth);\n    };\n\n    // jscs:disable requireCamelCaseOrUpperCaseIdentifiers\n    GridStackEngine.prototype.batch_update = obsolete(GridStackEngine.prototype.batchUpdate);\n    GridStackEngine.prototype._fix_collisions = obsolete(GridStackEngine.prototype._fixCollisions,\n        \'_fix_collisions\', \'_fixCollisions\');\n    GridStackEngine.prototype.is_area_empty = obsolete(GridStackEngine.prototype.isAreaEmpty,\n        \'is_area_empty\', \'isAreaEmpty\');\n    GridStackEngine.prototype._sort_nodes = obsolete(GridStackEngine.prototype._sortNodes,\n        \'_sort_nodes\', \'_sortNodes\');\n    GridStackEngine.prototype._pack_nodes = obsolete(GridStackEngine.prototype._packNodes,\n        \'_pack_nodes\', \'_packNodes\');\n    GridStackEngine.prototype._prepare_node = obsolete(GridStackEngine.prototype._prepareNode,\n        \'_prepare_node\', \'_prepareNode\');\n    GridStackEngine.prototype.clean_nodes = obsolete(GridStackEngine.prototype.cleanNodes,\n        \'clean_nodes\', \'cleanNodes\');\n    GridStackEngine.prototype.get_dirty_nodes = obsolete(GridStackEngine.prototype.getDirtyNodes,\n        \'get_dirty_nodes\', \'getDirtyNodes\');\n    GridStackEngine.prototype.add_node = obsolete(GridStackEngine.prototype.addNode,\n        \'add_node\', \'addNode, \');\n    GridStackEngine.prototype.remove_node = obsolete(GridStackEngine.prototype.removeNode,\n        \'remove_node\', \'removeNode\');\n    GridStackEngine.prototype.can_move_node = obsolete(GridStackEngine.prototype.canMoveNode,\n        \'can_move_node\', \'canMoveNode\');\n    GridStackEngine.prototype.move_node = obsolete(GridStackEngine.prototype.moveNode,\n        \'move_node\', \'moveNode\');\n    GridStackEngine.prototype.get_grid_height = obsolete(GridStackEngine.prototype.getGridHeight,\n        \'get_grid_height\', \'getGridHeight\');\n    GridStackEngine.prototype.begin_update = obsolete(GridStackEngine.prototype.beginUpdate,\n        \'begin_update\', \'beginUpdate\');\n    GridStackEngine.prototype.end_update = obsolete(GridStackEngine.prototype.endUpdate,\n        \'end_update\', \'endUpdate\');\n    GridStackEngine.prototype.can_be_placed_with_respect_to_height =\n        obsolete(GridStackEngine.prototype.canBePlacedWithRespectToHeight,\n        \'can_be_placed_with_respect_to_height\', \'canBePlacedWithRespectToHeight\');\n    GridStack.prototype._trigger_change_event = obsolete(GridStack.prototype._triggerChangeEvent,\n        \'_trigger_change_event\', \'_triggerChangeEvent\');\n    GridStack.prototype._init_styles = obsolete(GridStack.prototype._initStyles,\n        \'_init_styles\', \'_initStyles\');\n    GridStack.prototype._update_styles = obsolete(GridStack.prototype._updateStyles,\n        \'_update_styles\', \'_updateStyles\');\n    GridStack.prototype._update_container_height = obsolete(GridStack.prototype._updateContainerHeight,\n        \'_update_container_height\', \'_updateContainerHeight\');\n    GridStack.prototype._is_one_column_mode = obsolete(GridStack.prototype._isOneColumnMode,\n        \'_is_one_column_mode\',\'_isOneColumnMode\');\n    GridStack.prototype._prepare_element = obsolete(GridStack.prototype._prepareElement,\n        \'_prepare_element\', \'_prepareElement\');\n    GridStack.prototype.set_animation = obsolete(GridStack.prototype.setAnimation,\n        \'set_animation\', \'setAnimation\');\n    GridStack.prototype.add_widget = obsolete(GridStack.prototype.addWidget,\n        \'add_widget\', \'addWidget\');\n    GridStack.prototype.make_widget = obsolete(GridStack.prototype.makeWidget,\n        \'make_widget\', \'makeWidget\');\n    GridStack.prototype.will_it_fit = obsolete(GridStack.prototype.willItFit,\n        \'will_it_fit\', \'willItFit\');\n    GridStack.prototype.remove_widget = obsolete(GridStack.prototype.removeWidget,\n        \'remove_widget\', \'removeWidget\');\n    GridStack.prototype.remove_all = obsolete(GridStack.prototype.removeAll,\n        \'remove_all\', \'removeAll\');\n    GridStack.prototype.min_height = obsolete(GridStack.prototype.minHeight,\n        \'min_height\', \'minHeight\');\n    GridStack.prototype.min_width = obsolete(GridStack.prototype.minWidth,\n        \'min_width\', \'minWidth\');\n    GridStack.prototype._update_element = obsolete(GridStack.prototype._updateElement,\n        \'_update_element\', \'_updateElement\');\n    GridStack.prototype.cell_height = obsolete(GridStack.prototype.cellHeight,\n        \'cell_height\', \'cellHeight\');\n    GridStack.prototype.cell_width = obsolete(GridStack.prototype.cellWidth,\n        \'cell_width\', \'cellWidth\');\n    GridStack.prototype.get_cell_from_pixel = obsolete(GridStack.prototype.getCellFromPixel,\n        \'get_cell_from_pixel\', \'getCellFromPixel\');\n    GridStack.prototype.batch_update = obsolete(GridStack.prototype.batchUpdate,\n        \'batch_update\', \'batchUpdate\');\n    GridStack.prototype.is_area_empty = obsolete(GridStack.prototype.isAreaEmpty,\n        \'is_area_empty\', \'isAreaEmpty\');\n    GridStack.prototype.set_static = obsolete(GridStack.prototype.setStatic,\n        \'set_static\', \'setStatic\');\n    GridStack.prototype._set_static_class = obsolete(GridStack.prototype._setStaticClass,\n        \'_set_static_class\', \'_setStaticClass\');\n    // jscs:enable requireCamelCaseOrUpperCaseIdentifiers\n\n    scope.GridStackUI = GridStack;\n\n    scope.GridStackUI.Utils = Utils;\n    scope.GridStackUI.Engine = GridStackEngine;\n\n    $.fn.gridstack = function(opts) {\n        return this.each(function() {\n            var o = $(this);\n            if (!o.data(\'gridstack\')) {\n                o\n                    .data(\'gridstack\', new GridStack(this, opts));\n            }\n        });\n    };\n\n    return scope.GridStackUI;\n});\n'},166:function(e,t,i){'use strict';/*
 * Part of the Antares Project package.
 *
 * NOTICE OF LICENSE
 *
 * Licensed under the 3-clause BSD License.
 *
 * This source file is subject to the 3-clause BSD License that is
 * bundled with this package in the LICENSE file.
 *
 * @package    Files
 * @version    0.9.0
 * @author     Antares Team
 * @license    BSD License (3-clause)
 * @copyright  (c) 2017, Antares Project
 * @link       http://antaresproject.io
 * 

 */var a={init:function(){this.gridStack(),this.helpers(),this.stopTouchScroll(),this.identify()},showInDom:function(){},identify:function(){$('.grid-stack-item').each(function(){$(this).find('.tbl-c').length&&$(this).find('.grid-stack-item-content').addClass('card-datatables')})},stopTouchScroll:function(){$('html').hasClass('is-mobile')&&($('.move-button').on('mousedown',function(){$('.app-content').perfectScrollbar('destroy')}),$('.move-button').on('mouseup',function(){$('.app-content').perfectScrollbar()}),$('.ui-resizable-handle').on('mousedown',function(){$('.app-content').perfectScrollbar('destroy')}),$('.ui-resizable-handle').on('mouseup',function(){$('.app-content').perfectScrollbar()}))},helpers:function(){$.fn.extend({calcHeight:function(){var e=$('.grid-stack').data('gridstack'),t=e.cellHeight();$('.grid-stack-item').each(function(e,i){var a=$(i).data('gs-height');console.log(a*t+'px')})}}),$('.grid-stack-item').each(function(){$(this).find('.pagination').length&&$(this).addClass('gs-pagination')}),$('.card__mobile-toggle').on('click',function(){$(this).hasClass('card__mobile-toggle--open')?($(this).removeClass('card__mobile-toggle--open'),$(this).closest('.card-container').removeClass('card--mobile-toggled')):($(this).addClass('card__mobile-toggle--open'),$(this).closest('.card-container').addClass('card--mobile-toggled'))})},simulateNewGsi:function(){},gridStack:function(){i(78);var e=$('.grid-stack').data('gridstack'),t={animate:!1,minWidth:1200,alwaysShowResizeHandle:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),resizable:{handles:'e, se, s, sw, w, n'},cellHeight:'15px',verticalMargin:20,handle:'.move-button',width:24};$('.grid-stack').gridstack(t);var a=new CustomEvent('antares-gridstack-loaded',{detail:'gridstack is ready'});document.dispatchEvent(a)}};$(function(){window.AntaresGridstack=a,a.init()}),$(window).on('load',function(){})},2:function(e){e.exports=function(e){try{'undefined'==typeof eval?'undefined'==typeof execScript?console.error('[Script Loader] EvalError: No eval function available'):execScript(e):eval.call(null,e)}catch(e){console.error('[Script Loader] ',e.message)}}},31:function(e,t,i){var a=window.addEventListener?'addEventListener':'attachEvent',s=window.removeEventListener?'removeEventListener':'detachEvent',n='addEventListener'==a?'':'on',d=i(53);t.bind=function(e,t,s,o){e=d(e);for(var r=0;r<e.length;r++)e[r][a](n+t,s,o||!1)},t.unbind=function(e,t,a,o){e=d(e);for(var r=0;r<e.length;r++)e[r][s](n+t,a,o||!1)}},32:function(e,t,i){function a(e){if(!e||!e.nodeType)throw new Error('A DOM element reference is required');this.el=e,this.list=e.classList}var s=i(52),n=/\s+/,d=Object.prototype.toString;e.exports=function(e){return new a(e)},a.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array(),a=s(t,e);return~a||t.push(e),this.el.className=t.join(' '),this},a.prototype.remove=function(e){if(this.list)return this.list.remove(e),this;var t=this.array(),a=s(t,e);return~a&&t.splice(a,1),this.el.className=t.join(' '),this},a.prototype.toggle=function(e,t){return this.list?('undefined'==typeof t?this.list.toggle(e):t!==this.list.toggle(e,t)&&this.list.toggle(e),this):('undefined'==typeof t?this.has(e)?this.remove(e):this.add(e):t?this.add(e):this.remove(e),this)},a.prototype.array=function(){var e=this.el.getAttribute('class')||'',t=e.replace(/^\s+|\s+$/g,''),i=t.split(n);return''===i[0]&&i.shift(),i},a.prototype.has=a.prototype.contains=function(e){return this.list?this.list.contains(e):!!~s(this.array(),e)}},46:function(e,t,i){var a=i(83),s=i(50),n=i(51),d=i(52),o=i(31),r=i(54),l=i(32),h=i(84),c=i(53);e.exports=function(e,t,g){var p,u=this,f=i(55)(u),m=i(85)(u),y=i(86)(u);p={start:function(){u.listClass='list',u.searchClass='search',u.sortClass='sort',u.page=1e4,u.i=1,u.items=[],u.visibleItems=[],u.matchingItems=[],u.searched=!1,u.filtered=!1,u.searchColumns=void 0,u.handlers={updated:[]},u.valueNames=[],u.utils={getByClass:s,extend:n,indexOf:d,events:o,toString:r,naturalSort:a,classes:l,getAttribute:h,toArray:c},u.utils.extend(u,t),u.listContainer='string'==typeof e?document.getElementById(e):e;u.listContainer&&(u.list=s(u.listContainer,u.listClass,!0),u.parse=i(87)(u),u.templater=i(88)(u),u.search=i(89)(u),u.filter=i(90)(u),u.sort=i(91)(u),u.fuzzySearch=i(92)(u,t.fuzzySearch),this.handlers(),this.items(),this.pagination(),u.update())},handlers:function(){for(var e in u.handlers)u[e]&&u.on(e,u[e])},items:function(){u.parse(u.list),g!==void 0&&u.add(g)},pagination:function(){if(t.pagination!==void 0){!0===t.pagination&&(t.pagination=[{}]),t.pagination[0]===void 0&&(t.pagination=[t.pagination]);for(var e=0,i=t.pagination.length;e<i;e++)y(t.pagination[e])}}},this.reIndex=function(){u.items=[],u.visibleItems=[],u.matchingItems=[],u.searched=!1,u.filtered=!1,u.parse(u.list)},this.toJSON=function(){for(var e=[],t=0,i=u.items.length;t<i;t++)e.push(u.items[t].values());return e},this.add=function(e,t){if(0!==e.length){if(t)return void m(e,t);var a=[],s=!1;void 0===e[0]&&(e=[e]);for(var n,d=0,i=e.length;d<i;d++)n=null,s=!!(u.items.length>u.page),n=new f(e[d],void 0,s),u.items.push(n),a.push(n);return u.update(),a}},this.show=function(e,t){return this.i=e,this.page=t,u.update(),u},this.remove=function(e,t,a){for(var s=0,n=0,i=u.items.length;n<i;n++)u.items[n].values()[e]==t&&(u.templater.remove(u.items[n],a),u.items.splice(n,1),i--,n--,s++);return u.update(),s},this.get=function(e,t){for(var a,s=[],n=0,i=u.items.length;n<i;n++)a=u.items[n],a.values()[e]==t&&s.push(a);return s},this.size=function(){return u.items.length},this.clear=function(){return u.templater.clear(),u.items=[],u},this.on=function(e,t){return u.handlers[e].push(t),u},this.off=function(t,i){var a=u.handlers[t],e=d(a,i);return-1<e&&a.splice(e,1),u},this.trigger=function(e){for(var t=u.handlers[e].length;t--;)u.handlers[e][t](u);return u},this.reset={filter:function(){for(var e=u.items,t=e.length;t--;)e[t].filtered=!1;return u},search:function(){for(var e=u.items,t=e.length;t--;)e[t].found=!1;return u}},this.update=function(){var e=u.items,t=e.length;u.visibleItems=[],u.matchingItems=[],u.templater.clear();for(var a=0;a<t;a++)e[a].matching()&&u.matchingItems.length+1>=u.i&&u.visibleItems.length<u.page?(e[a].show(),u.visibleItems.push(e[a]),u.matchingItems.push(e[a])):e[a].matching()?(u.matchingItems.push(e[a]),e[a].hide()):e[a].hide();return u.trigger('updated'),u},p.start()}},50:function(e){var t=function(e,t,i){return i?e.getElementsByClassName(t)[0]:e.getElementsByClassName(t)},i=function(e,t,i){return t='.'+t,i?e.querySelector(t):e.querySelectorAll(t)},a=function(e,t,a){for(var s=[],n=e.getElementsByTagName('*'),d=n.length,o=new RegExp('(^|\\s)'+t+'(\\s|$)'),r=0,i=0;r<d;r++)if(o.test(n[r].className)){if(a)return n[r];s[i]=n[r],i++}return s};e.exports=function(){return function(e,s,n,d){return d=d||{},d.test&&d.getElementsByClassName||!d.test&&document.getElementsByClassName?t(e,s,n):d.test&&d.querySelector||!d.test&&document.querySelector?i(e,s,n):a(e,s,n)}}()},51:function(e){e.exports=function(e){for(var t,a=Array.prototype.slice.call(arguments,1),s=0;t=a[s];s++)if(t)for(var i in t)e[i]=t[i];return e}},52:function(e){var t=[].indexOf;e.exports=function(e,a){if(t)return e.indexOf(a);for(var s=0;s<e.length;++s)if(e[s]===a)return s;return-1}},53:function(e){function t(e){return'[object Array]'===Object.prototype.toString.call(e)}e.exports=function(e){if('undefined'==typeof e)return[];if(null===e)return[null];if(e===window)return[window];if('string'==typeof e)return[e];if(t(e))return e;if('number'!=typeof e.length)return[e];if('function'==typeof e&&e instanceof Function)return[e];for(var a=[],s=0;s<e.length;s++)(Object.prototype.hasOwnProperty.call(e,s)||s in e)&&a.push(e[s]);return a.length?a:[]}},54:function(e){e.exports=function(e){return e=void 0===e?'':e,e=null===e?'':e,e=e.toString(),e}},55:function(e){e.exports=function(e){return function(t,i,a){var s=this;this._values={},this.found=!1,this.filtered=!1;this.values=function(t,i){if(t!==void 0){for(var a in t)s._values[a]=t[a];!0!==i&&e.templater.set(s,s.values())}else return s._values},this.show=function(){e.templater.show(s)},this.hide=function(){e.templater.hide(s)},this.matching=function(){return e.filtered&&e.searched&&s.found&&s.filtered||e.filtered&&!e.searched&&s.filtered||!e.filtered&&e.searched&&s.found||!e.filtered&&!e.searched},this.visible=function(){return s.elm&&s.elm.parentNode==e.list},function(t,i,a){if(i===void 0)a?s.values(t,a):s.values(t);else{s.elm=i;var n=e.templater.get(s,t);s.values(n)}}(t,i,a)}}},78:function(){(function(e){function t(e,t){if(!(1<e.originalEvent.touches.length)){e.preventDefault();var i=e.originalEvent.changedTouches[0],a=document.createEvent('MouseEvents');a.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(a)}}if(e.support.touch='ontouchend'in document,!!e.support.touch){var i,a=e.ui.mouse.prototype,s=a._mouseInit,n=a._mouseDestroy;a._touchStart=function(e){var a=this;i||!a._mouseCapture(e.originalEvent.changedTouches[0])||(i=!0,a._touchMoved=!1,t(e,'mouseover'),t(e,'mousemove'),t(e,'mousedown'))},a._touchMove=function(e){i&&(this._touchMoved=!0,t(e,'mousemove'))},a._touchEnd=function(e){i&&(t(e,'mouseup'),t(e,'mouseout'),!this._touchMoved&&t(e,'click'),i=!1)},a._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,'_touchStart'),touchmove:e.proxy(t,'_touchMove'),touchend:e.proxy(t,'_touchEnd')}),s.call(t)},a._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,'_touchStart'),touchmove:e.proxy(t,'_touchMove'),touchend:e.proxy(t,'_touchEnd')}),n.call(t)}}})(jQuery)},816:function(e,t,i){e.exports=i(817)},817:function(e,t,i){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}var s=i(163),n=a(s),d=i(148),o=a(d),r=i(818),l=a(r);i(164);var h=i(46);window.List=h,i(166),$(function(){n.default.gridstack(),o.default.init(),l.default.init()}),window.widgetControl=o.default,window.gridstackRWD=l.default},818:function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default={init:function(){this},maksymSoFar:function(){},changeGridstackFromDevices:function(){},updateResizeGridstack:function(){target.closest('.grid-stack-item').removeClass('grid-size--xs'),target.closest('.grid-stack-item').removeClass('grid-size--sm'),target.closest('.grid-stack-item').removeClass('grid-size--md'),target.closest('.grid-stack-item').removeClass('grid-size--lg'),target.closest('.grid-stack-item').removeClass('grid-size--xl'),window.requestAnimationFrame(function(){var e=target.closest('.grid-stack-item').attr('data-gs-width');6>=e?target.closest('.grid-stack-item').addClass('grid-size--xs'):8>=e?target.closest('.grid-stack-item').addClass('grid-size--sm'):10>=e?target.closest('.grid-stack-item').addClass('grid-size--md'):12>=e?target.closest('.grid-stack-item').addClass('grid-size--lg'):24>=e&&target.closest('.grid-stack-item').addClass('grid-size--xl'),console.log('gridstack rwd classupdate')})},deleteGridstackItemsIfSizeBig:function(){$('#app-wrapper').hasClass('is-laptop')?$('.grid-size--lg').remove():$('#app-wrapper').hasClass('is-tablet-horizontal')?($('.grid-size--lg').remove(),$('.grid-size--md').remove()):$('#app-wrapper').hasClass('is-tablet-vertical')&&($('.grid-size--lg').remove(),$('.grid-size--md').remove(),$('.grid-size--sm').remove())},checkDevices:function(){var e=this;enquire.register('screen and (max-width:767px) ',{match:function(){$('#app-wrapper').addClass('is-mobile')},unmatch:function(){$('#app-wrapper').removeClass('is-mobile')}}),enquire.register('screen and (min-width:768px) and (max-width:1023px)',{match:function(){$('#app-wrapper').addClass('is-tablet-vertical')},unmatch:function(){$('#app-wrapper').removeClass('is-tablet-vertical')}}),enquire.register('screen and (min-width:1024px) and (max-width:1199px)',{match:function(){$('#app-wrapper').addClass('is-tablet-horizontal')},unmatch:function(){$('#app-wrapper').removeClass('is-tablet-horizontal')}}),enquire.register('screen and (min-width:1200px) and (max-width:1366px)',{match:function(){$('#app-wrapper').addClass('is-laptop')},unmatch:function(){$('#app-wrapper').removeClass('is-laptop')}}),enquire.register('screen and (min-width:1367px)',{match:function(){$('.grid-stack-item').each(function(){var e=$(this).attr('data-gs-width');8>=e?$(this).find('.card').addClass('grid-size--tablet-xs'):12>=e?$(this).find('.card').addClass('grid-size--tablet-sm'):20>=e?$(this).find('.card').addClass('grid-size--tablet-md'):24>=e&&$(this).find('.card').addClass('grid-size--tablet-lg')}),$('#app-wrapper').addClass('is-desktop'),e.changeGridstackFromDevices()},unmatch:function(){$('#app-wrapper').removeClass('is-desktop')}})},onDocReady:function(){var e=this;this.checkDevices(),window.requestAnimationFrame(function(){e.changeGridstackFromDevices()})},onWindowLoad:function(){$(window).on('load',function(){window.requestAnimationFrame(function(){$('.grid-stack-item').each(function(){var e=$(this).attr('data-gs-width');6>=e?$(this).addClass('grid-size--xs'):8>=e?$(this).addClass('grid-size--sm'):10>=e?$(this).addClass('grid-size--md'):12>=e?$(this).addClass('grid-size--lg'):24>=e&&$(this).addClass('grid-size--xl')})})})}}},83:function(e){'use strict';function t(e){return 48<=e&&57>=e}function i(e,i){for(var a=(e+='').length,d=(i+='').length,o=0,r=0;o<a&&r<d;){var l=e.charCodeAt(o),h=i.charCodeAt(r);if(t(l)){if(!t(h))return l-h;for(var c=o,g=r;48===l&&++c<a;)l=e.charCodeAt(c);for(;48===h&&++g<d;)h=i.charCodeAt(g);for(var p=c,u=g;p<a&&t(e.charCodeAt(p));)++p;for(;u<d&&t(i.charCodeAt(u));)++u;var f=p-c-u+g;if(f)return f;for(;c<p;)if(f=e.charCodeAt(c++)-i.charCodeAt(g++),f)return f;o=p,r=u;continue}if(l!==h)return l<n&&h<n&&-1!==s[l]&&-1!==s[h]?s[l]-s[h]:l-h;++o,++r}return a-d}var a,s,n=0;i.caseInsensitive=i.i=function(e,t){return i((''+e).toLowerCase(),(''+t).toLowerCase())},Object.defineProperties(i,{alphabet:{get:function(){return a},set:function(e){a=e,s=[];var t=0;if(a)for(;t<a.length;t++)s[a.charCodeAt(t)]=t;for(n=s.length,t=0;t<n;t++)void 0===s[t]&&(s[t]=-1)}}}),e.exports=i},84:function(e){e.exports=function(e,t){var a=e.getAttribute&&e.getAttribute(t)||null;if(!a)for(var s=e.attributes,n=s.length,d=0;d<n;d++)void 0!==t[d]&&t[d].nodeName===t&&(a=t[d].nodeValue);return a}},85:function(e){e.exports=function(e){var t=function(i,a,s){var n=i.splice(0,50);s=s||[],s=s.concat(e.add(n)),0<i.length?setTimeout(function(){t(i,a,s)},1):(e.update(),a(s))};return t}},86:function(e,t,i){var a=Math.ceil,s=i(32),n=i(31),d=i(46);e.exports=function(e){var t=function(t,n){var d,h=e.matchingItems.length,l=e.i,c=e.page,g=a(h/c),p=a(l/c),u=n.innerWindow||2,f=n.left||n.outerWindow||0,m=n.right||n.outerWindow||0;m=g-m,t.clear();for(var y,_=1;_<=g;_++)y=p===_?'active':'',o.number(_,f,m,p,u)?(d=t.add({page:_,dotted:!1})[0],y&&s(d.elm).add(y),r(d.elm,_,c)):o.dotted(t,_,f,m,p,u,t.size())&&(d=t.add({page:'...',dotted:!0})[0],s(d.elm).add('disabled'))},o={number:function(e,t,i,a,s){return this.left(e,t)||this.right(e,i)||this.innerWindow(e,a,s)},left:function(e,t){return e<=t},right:function(e,t){return e>t},innerWindow:function(e,t,i){return e>=t-i&&e<=t+i},dotted:function(e,t,i,a,s,n,d){return this.dottedLeft(e,t,i,a,s,n)||this.dottedRight(e,t,i,a,s,n,d)},dottedLeft:function(e,t,i,a,s,n){return t==i+1&&!this.innerWindow(t,s,n)&&!this.right(t,a)},dottedRight:function(e,t,i,a,s,n,d){return!e.items[d-1].values().dotted&&t==a&&!this.innerWindow(t,s,n)&&!this.right(t,a)}},r=function(t,a,i){n.bind(t,'click',function(){e.show((a-1)*i+1,i)})};return function(i){var a=new d(e.listContainer.id,{listClass:i.paginationClass||'pagination',item:'<li><a class=\'page\' href=\'javascript:function Z(){Z=""}Z()\'></a></li>',valueNames:['page','dotted'],searchClass:'pagination-search-that-is-not-supposed-to-exist',sortClass:'pagination-sort-that-is-not-supposed-to-exist'});e.on('updated',function(){t(a,i)}),t(a,i)}}},87:function(e,t,i){e.exports=function(e){var t=i(55)(e),a=function(e){for(var t=e.childNodes,a=[],s=0,i=t.length;s<i;s++)void 0===t[s].data&&a.push(t[s]);return a},s=function(a,s){for(var n=0,i=a.length;n<i;n++)e.items.push(new t(s,a[n]))},n=function(t,i){var a=t.splice(0,50);s(a,i),0<t.length?setTimeout(function(){n(t,i)},1):(e.update(),e.trigger('parseComplete'))};return e.handlers.parseComplete=e.handlers.parseComplete||[],function(){var t=a(e.list),i=e.valueNames;e.indexAsync?n(t,i):s(t,i)}}},88:function(e){var t=function(e){var t,a=this;this.clearSourceItem=function(t,a){for(var s=0,i=a.length;s<i;s++){var n;if(a[s].data)for(var d=0,o=a[s].data.length;d<o;d++)t.setAttribute('data-'+a[s].data[d],'');else a[s].attr&&a[s].name?(n=e.utils.getByClass(t,a[s].name,!0),n&&n.setAttribute(a[s].attr,'')):(n=e.utils.getByClass(t,a[s],!0),n&&(n.innerHTML=''));n=void 0}return t},this.getItemSource=function(t){if(t===void 0){for(var a=e.list.childNodes,s=0,i=a.length;s<i;s++)if(void 0===a[s].data)return a[s].cloneNode(!0);}else{if(/<tr[\s>]/g.exec(t)){var n=document.createElement('tbody');return n.innerHTML=t,n.firstChild}if(-1!==t.indexOf('<')){var d=document.createElement('div');return d.innerHTML=t,d.firstChild}var o=document.getElementById(e.item);if(o)return o}},this.get=function(t,s){a.create(t);for(var n={},d=0,i=s.length;d<i;d++){var o;if(s[d].data)for(var r=0,l=s[d].data.length;r<l;r++)n[s[d].data[r]]=e.utils.getAttribute(t.elm,'data-'+s[d].data[r]);else s[d].attr&&s[d].name?(o=e.utils.getByClass(t.elm,s[d].name,!0),n[s[d].name]=o?e.utils.getAttribute(o,s[d].attr):''):(o=e.utils.getByClass(t.elm,s[d],!0),n[s[d]]=o?o.innerHTML:'');o=void 0}return n},this.set=function(t,i){var s=function(t){for(var a=0,i=e.valueNames.length;a<i;a++)if(e.valueNames[a].data){for(var s=e.valueNames[a].data,n=0,d=s.length;n<d;n++)if(s[n]===t)return{data:t};}else{if(e.valueNames[a].attr&&e.valueNames[a].name&&e.valueNames[a].name==t)return e.valueNames[a];if(e.valueNames[a]===t)return t}},n=function(i,a){var n,d=s(i);d&&(d.data?t.elm.setAttribute('data-'+d.data,a):d.attr&&d.name?(n=e.utils.getByClass(t.elm,d.name,!0),n&&n.setAttribute(d.attr,a)):(n=e.utils.getByClass(t.elm,d,!0),n&&(n.innerHTML=a)),n=void 0)};if(!a.create(t))for(var d in i)i.hasOwnProperty(d)&&n(d,i[d])},this.create=function(e){if(void 0!==e.elm)return!1;if(void 0===t)throw new Error('The list need to have at list one item on init otherwise you\'ll have to add a template.');var i=t.cloneNode(!0);return i.removeAttribute('id'),e.elm=i,a.set(e,e.values()),!0},this.remove=function(t){t.elm.parentNode===e.list&&e.list.removeChild(t.elm)},this.show=function(t){a.create(t),e.list.appendChild(t.elm)},this.hide=function(t){t.elm!==void 0&&t.elm.parentNode===e.list&&e.list.removeChild(t.elm)},this.clear=function(){if(e.list.hasChildNodes())for(;1<=e.list.childNodes.length;)e.list.removeChild(e.list.firstChild)},function(){t=a.getItemSource(e.item),t&&(t=a.clearSourceItem(t,e.valueNames))}()};e.exports=function(e){return new t(e)}},89:function(e){e.exports=function(t){var e,i,a,s,n={resetList:function(){t.i=1,t.templater.clear(),s=void 0},setOptions:function(e){2==e.length&&e[1]instanceof Array?i=e[1]:2==e.length&&'function'==typeof e[1]?(i=void 0,s=e[1]):3==e.length?(i=e[1],s=e[2]):i=void 0},setColumns:function(){0===t.items.length||void 0===i&&(i=void 0===t.searchColumns?n.toArray(t.items[0].values()):t.searchColumns)},setSearchString:function(e){e=t.utils.toString(e).toLowerCase(),e=e.replace(/[-[\]{}()*+?.,\\^$|#]/g,'\\$&'),a=e},toArray:function(e){var t=[];for(var i in e)t.push(i);return t}},d={list:function(){for(var e=0,i=t.items.length;e<i;e++)d.item(t.items[e])},item:function(e){e.found=!1;for(var t=0,a=i.length;t<a;t++)if(d.values(e.values(),i[t]))return void(e.found=!0)},values:function(i,s){return i.hasOwnProperty(s)&&(e=t.utils.toString(i[s]).toLowerCase(),''!==a&&-1<e.search(a))},reset:function(){t.reset.search(),t.searched=!1}},o=function(e){return t.trigger('searchStart'),n.resetList(),n.setSearchString(e),n.setOptions(arguments),n.setColumns(),''===a?d.reset():(t.searched=!0,s?s(a,i):d.list()),t.update(),t.trigger('searchComplete'),t.visibleItems};return t.handlers.searchStart=t.handlers.searchStart||[],t.handlers.searchComplete=t.handlers.searchComplete||[],t.utils.events.bind(t.utils.getByClass(t.listContainer,t.searchClass),'keyup',function(i){var e=i.target||i.srcElement,a=''===e.value&&!t.searched;a||o(e.value)}),t.utils.events.bind(t.utils.getByClass(t.listContainer,t.searchClass),'input',function(t){var e=t.target||t.srcElement;''===e.value&&o('')}),o}},90:function(e){e.exports=function(e){return e.handlers.filterStart=e.handlers.filterStart||[],e.handlers.filterComplete=e.handlers.filterComplete||[],function(t){if(e.trigger('filterStart'),e.i=1,e.reset.filter(),void 0===t)e.filtered=!1;else{e.filtered=!0;for(var a,s=e.items,n=0,i=s.length;n<i;n++)a=s[n],a.filtered=!!t(a)}return e.update(),e.trigger('filterComplete'),e.visibleItems}}},91:function(e){e.exports=function(e){var t={els:void 0,clear:function(){for(var a=0,i=t.els.length;a<i;a++)e.utils.classes(t.els[a]).remove('asc'),e.utils.classes(t.els[a]).remove('desc')},getOrder:function(t){var i=e.utils.getAttribute(t,'data-order');return'asc'==i||'desc'==i?i:e.utils.classes(t).has('desc')?'asc':e.utils.classes(t).has('asc')?'desc':'asc'},getInSensitive:function(t,i){var a=e.utils.getAttribute(t,'data-insensitive');i.insensitive='false'!==a},setOrder:function(a){for(var s,n=0,i=t.els.length;n<i;n++)if(s=t.els[n],e.utils.getAttribute(s,'data-sort')===a.valueName){var d=e.utils.getAttribute(s,'data-order');'asc'==d||'desc'==d?d==a.order&&e.utils.classes(s).add(a.order):e.utils.classes(s).add(a.order)}}},i=function(){e.trigger('sortStart');var i={},a=arguments[0].currentTarget||arguments[0].srcElement||void 0;a?(i.valueName=e.utils.getAttribute(a,'data-sort'),t.getInSensitive(a,i),i.order=t.getOrder(a)):(i=arguments[1]||i,i.valueName=arguments[0],i.order=i.order||'asc',i.insensitive='undefined'==typeof i.insensitive||i.insensitive),t.clear(),t.setOrder(i);var s,n=i.sortFunction||e.sortFunction||null,d='desc'===i.order?-1:1;s=n?function(e,t){return n(e,t,i)*d}:function(t,a){var s=e.utils.naturalSort;return s.alphabet=e.alphabet||i.alphabet||void 0,!s.alphabet&&i.insensitive&&(s=e.utils.naturalSort.caseInsensitive),s(t.values()[i.valueName],a.values()[i.valueName])*d},e.items.sort(s),e.update(),e.trigger('sortComplete')};return e.handlers.sortStart=e.handlers.sortStart||[],e.handlers.sortComplete=e.handlers.sortComplete||[],t.els=e.utils.getByClass(e.listContainer,e.sortClass),e.utils.events.bind(t.els,'click',i),e.on('searchStart',t.clear),e.on('filterStart',t.clear),i}},92:function(e,t,i){var a=i(32),s=i(31),n=i(51),d=i(54),o=i(50),r=i(93);e.exports=function(t,e){e=e||{},e=n({location:0,distance:100,threshold:0.4,multiSearch:!0,searchClass:'fuzzy-search'},e);var a={search:function(i,s){for(var n=e.multiSearch?i.replace(/ +$/,'').split(/ +/):[i],d=0,o=t.items.length;d<o;d++)a.item(t.items[d],s,n)},item:function(e,t,s){for(var n,d=!0,o=0;o<s.length;o++){n=!1;for(var i=0,r=t.length;i<r;i++)a.values(e.values(),t[i],s[o])&&(n=!0);n||(d=!1)}e.found=d},values:function(t,i,a){if(t.hasOwnProperty(i)){var s=d(t[i]).toLowerCase();if(r(s,a,e))return!0}return!1}};return s.bind(o(t.listContainer,e.searchClass),'keyup',function(i){var e=i.target||i.srcElement;t.search(e.value,a.search)}),function(e,i){t.search(e,i,a.search)}}},93:function(e){var t=Math.min,i=Math.max;e.exports=function(e,a,n){function o(t,e){var i=t/a.length,s=Math.abs(c-e);return l?i+s/l:s?1:i}var r=n.location||0,l=n.distance||100,h=n.threshold||0.4;if(a===e)return!0;if(32<a.length)return!1;var c=r,g=function(){var e,t={};for(e=0;e<a.length;e++)t[a.charAt(e)]=0;for(e=0;e<a.length;e++)t[a.charAt(e)]|=1<<a.length-e-1;return t}(),s=h,p=e.indexOf(a,c);-1!=p&&(s=t(o(0,p),s),p=e.lastIndexOf(a,c+a.length),-1!=p&&(s=t(o(0,p),s)));var u=1<<a.length-1;p=-1;for(var f,m,y,_=a.length+e.length,v=0;v<a.length;v++){for(f=0,m=_;f<m;)o(v,c+m)<=s?f=m:_=m,m=Math.floor((_-f)/2+f);_=m;var d=i(1,c-m+1),k=t(c+m,e.length)+a.length,b=Array(k+2);b[k+1]=(1<<v)-1;for(var x,w=k;w>=d;w--)if(x=g[e.charAt(w-1)],b[w]=0===v?(1|b[w+1]<<1)&x:(1|b[w+1]<<1)&x|(1|(y[w+1]|y[w])<<1)|y[w+1],b[w]&u){var C=o(v,w-1);if(C<=s)if(s=C,p=w-1,p>c)d=i(1,2*c-p);else break}if(o(v+1,c)>s)break;y=b}return!(0>p)}}});